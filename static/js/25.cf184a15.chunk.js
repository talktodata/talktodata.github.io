(this["webpackJsonpcalliope-talk"]=this["webpackJsonpcalliope-talk"]||[]).push([[25,7,19,28,30,31,35,59,60,61],{119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},149:function(e,t,a){"use strict";var r=a(195),n=Object.prototype.toString;function s(e){return"[object Array]"===n.call(e)}function o(e){return"undefined"===typeof e}function i(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===n.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:i,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:u,isStream:function(e){return i(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function a(a,r){c(t[r])&&c(a)?t[r]=e(t[r],a):c(a)?t[r]=e({},a):s(a)?t[r]=a.slice():t[r]=a}for(var r=0,n=arguments.length;r<n;r++)l(arguments[r],a);return t},extend:function(e,t,a){return l(t,(function(t,n){e[n]=a&&"function"===typeof t?r(t,a):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},158:function(e,t,a){var r=a(209),n="object"==typeof self&&self&&self.Object===Object&&self,s=r||n||Function("return this")();e.exports=s},159:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));var r=a(0),n=r.isValidElement;function s(e,t){return function(e,t,a){return n(e)?r.cloneElement(e,"function"===typeof a?a(e.props||{}):a):t}(e,e,t)}},172:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},176:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t}},177:function(e,t,a){var r=a(158).Symbol;e.exports=r},178:function(e,t,a){var r=a(177),n=a(226),s=a(227),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?n(e):s(e)}},179:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},181:function(e,t,a){"use strict";t.a={VALUE:"value",TREND:"trend",CATEGORIZATION:"categorization",DIFFERENCE:"difference",PROPORTION:"proportion",DISTRIBUTION:"distribution",RANK:"rank",ASSOCIATION:"association",EXTREME:"extreme",OUTLIER:"outlier"}},184:function(e,t,a){"use strict";var r="https://".concat("talk-api.idvxlab.com:8006"),n="https://".concat("talk-api.idvxlab.com:8006"),s={url:{uploadPrefix:r,uploadData:"".concat(r,"/upload"),share:"".concat(r,"/share"),fetch:"".concat(r,"/data/share"),factScoring:"".concat(n,"/fact"),generate:"".concat(n,"/generate"),candidateQuestions:"https://".concat("talk-api.idvxlab.com:8006","/column2questions")}};t.a=s},186:function(e,t,a){"use strict";t.a={JUXTAPOSITION:"juxtaposition",AREA_CHART:"Area Chart",VERTICAL_BAR_CHART:"Vertical Bar Chart",VERTICAL_DIFFERENCE_BAR_CHART:"Vertical Difference Bar Chart",VERTICAL_DIFFERENCE_ARROW_CHART:"Vertical Difference Arrow Chart",HORIZONTAL_BAR_CHART:"Horizontal Bar Chart",PROGRESS_BAR_CHART:"Progress Bar Chart",STACKED_BAR_CHART:"Stacked Bar Chart",ISOTYPE_BAR_CHART:"Isotype Bar Chart",PROPORTION_ISOTYPE_CHART:"Proportion Isotype Chart",COLOR_FILLING_MAP:"Color Filling Map",BUBBLE_CHART:"Bubble Chart",TEXT_CHART:"Text Chart",LINE_CHART:"Line Chart",STACKED_LINE_CHART:"Stacked Line Chart",RING_CHART:"Ring Chart",HALF_RING_CHART:"Half Ring Chart",PIE_CHART:"Pie Chart",SCATTER_PLOT:"Scatter Plot",TREE_MAP:"Treemap",BUBBLE_MAP:"Bubblemap"}},194:function(e,t,a){"use strict";a(155),a(219)},195:function(e,t,a){"use strict";e.exports=function(e,t){return function(){for(var a=new Array(arguments.length),r=0;r<a.length;r++)a[r]=arguments[r];return e.apply(t,a)}}},196:function(e,t,a){"use strict";var r=a(149);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,a){if(!t)return e;var s;if(a)s=a(t);else if(r.isURLSearchParams(t))s=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(n(t)+"="+n(e))})))})),s=o.join("&")}if(s){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},197:function(e,t,a){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},198:function(e,t,a){"use strict";(function(t){var r=a(149),n=a(245),s={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=a(199)),e}(),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){i.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){i.headers[e]=r.merge(s)})),e.exports=i}).call(this,a(271))},199:function(e,t,a){"use strict";var r=a(149),n=a(246),s=a(248),o=a(196),i=a(249),c=a(252),u=a(253),l=a(200);e.exports=function(e){return new Promise((function(t,a){var p=e.data,f=e.headers;r.isFormData(p)&&delete f["Content-Type"],(r.isBlob(p)||r.isFile(p))&&p.type&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=unescape(encodeURIComponent(e.auth.password))||"";f.Authorization="Basic "+btoa(h+":"+m)}var g=i(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};n(t,a,s),d=null}},d.onabort=function(){d&&(a(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){a(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),a(l(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||u(g))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(v){if("json"!==e.responseType)throw v}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),a(e),d=null)})),p||(p=null),d.send(p)}))}},200:function(e,t,a){"use strict";var r=a(247);e.exports=function(e,t,a,n,s){var o=new Error(e);return r(o,t,a,n,s)}},201:function(e,t,a){"use strict";var r=a(149);e.exports=function(e,t){t=t||{};var a={},n=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],i=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(n){r.isUndefined(t[n])?r.isUndefined(e[n])||(a[n]=c(void 0,e[n])):a[n]=c(e[n],t[n])}r.forEach(n,(function(e){r.isUndefined(t[e])||(a[e]=c(void 0,t[e]))})),r.forEach(s,u),r.forEach(o,(function(n){r.isUndefined(t[n])?r.isUndefined(e[n])||(a[n]=c(void 0,e[n])):a[n]=c(void 0,t[n])})),r.forEach(i,(function(r){r in t?a[r]=c(e[r],t[r]):r in e&&(a[r]=c(void 0,e[r]))}));var l=n.concat(s).concat(o).concat(i),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(p,u),a}},202:function(e,t,a){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},203:function(e,t,a){"use strict";var r=a(1),n=a(138),s=a(143),o=a(144),i=a(145),c=a(147),u=a(0),l=a(137),p=a.n(l),f=a(156),d=a(220),h=a.n(d),m=a(301),g=a(176),b=a(159),v=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},y=(Object(g.a)("small","default","large"),null);var A=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var o;Object(s.a)(this,a),(o=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||o.props).delay;t&&(o.cancelExistingSpin(),o.updateSpinning=h()(o.originalUpdateSpinning,t))},o.updateSpinning=function(){var e=o.props.spinning;o.state.spinning!==e&&o.setState({spinning:e})},o.renderSpin=function(e){var t,a=e.getPrefixCls,s=e.direction,i=o.props,c=i.prefixCls,l=i.className,d=i.size,h=i.tip,m=i.wrapperClassName,g=i.style,A=v(i,["prefixCls","className","size","tip","wrapperClassName","style"]),T=o.state.spinning,R=a("spin",c),E=p()(R,(t={},Object(n.a)(t,"".concat(R,"-sm"),"small"===d),Object(n.a)(t,"".concat(R,"-lg"),"large"===d),Object(n.a)(t,"".concat(R,"-spinning"),T),Object(n.a)(t,"".concat(R,"-show-text"),!!h),Object(n.a)(t,"".concat(R,"-rtl"),"rtl"===s),t),l),O=Object(f.a)(A,["spinning","delay","indicator"]),C=u.createElement("div",Object(r.a)({},O,{style:g,className:E}),function(e,t){var a=t.indicator,r="".concat(e,"-dot");return null===a?null:Object(b.b)(a)?Object(b.a)(a,{className:p()(a.props.className,r)}):Object(b.b)(y)?Object(b.a)(y,{className:p()(y.props.className,r)}):u.createElement("span",{className:p()(r,"".concat(e,"-dot-spin"))},u.createElement("i",{className:"".concat(e,"-dot-item")}),u.createElement("i",{className:"".concat(e,"-dot-item")}),u.createElement("i",{className:"".concat(e,"-dot-item")}),u.createElement("i",{className:"".concat(e,"-dot-item")}))}(R,o.props),h?u.createElement("div",{className:"".concat(R,"-text")},h):null);if(o.isNestedPattern()){var w=p()("".concat(R,"-container"),Object(n.a)({},"".concat(R,"-blur"),T));return u.createElement("div",Object(r.a)({},O,{className:p()("".concat(R,"-nested-loading"),m)}),T&&u.createElement("div",{key:"loading"},C),u.createElement("div",{className:w,key:"container"},o.props.children))}return C};var i=e.spinning,c=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(i,e.delay);return o.state={spinning:i&&!c},o.originalUpdateSpinning=o.updateSpinning,o.debouncifyUpdateSpinning(e),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return u.createElement(m.a,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){y=e}}]),a}(u.Component);A.defaultProps={spinning:!0,size:"default",wrapperClassName:""},t.a=A},204:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return d}));var r=a(161),n=a.n(r),s=a(192),o=a(184),i=a(238),c=a.n(i);function u(e){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){c()({method:"post",url:"".concat(o.a.url.uploadData),config:{headers:{"Content-Type":"multipart/form-data"}},data:t}).then((function(t){t.status>=400?a():200===t.status||201===t.status||204===t.status?e(t.data):a()})).catch((function(e){a()}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return c()({method:"post",url:"".concat(o.a.url.generate),config:{headers:{"Content-Type":"application/json; charset=utf-8"}},data:e})}function f(e){return c()({method:"post",url:"".concat(o.a.url.candidateQuestions),config:{headers:{"Content-Type":"application/json; charset=utf-8"}},data:e})}function d(e){return c()({method:"post",url:"/generatePDF",param:{},data:e})}},205:function(e,t,a){"use strict";t.a={NUMERICAL:"numerical",CATEGORICAL:"categorical",TEMPORAL:"temporal",GEOGRAPHICAL:"geographical"}},209:function(e,t,a){(function(t){var a="object"==typeof t&&t&&t.Object===Object&&t;e.exports=a}).call(this,a(13))},219:function(e,t,a){},220:function(e,t,a){var r=a(172),n=a(221),s=a(222),o=Math.max,i=Math.min;e.exports=function(e,t,a){var c,u,l,p,f,d,h=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var a=c,r=u;return c=u=void 0,h=t,p=e.apply(r,a)}function y(e){return h=e,f=setTimeout(T,t),m?v(e):p}function A(e){var a=e-d;return void 0===d||a>=t||a<0||g&&e-h>=l}function T(){var e=n();if(A(e))return R(e);f=setTimeout(T,function(e){var a=t-(e-d);return g?i(a,l-(e-h)):a}(e))}function R(e){return f=void 0,b&&c?v(e):(c=u=void 0,p)}function E(){var e=n(),a=A(e);if(c=arguments,u=this,d=e,a){if(void 0===f)return y(d);if(g)return clearTimeout(f),f=setTimeout(T,t),v(d)}return void 0===f&&(f=setTimeout(T,t)),p}return t=s(t)||0,r(a)&&(m=!!a.leading,l=(g="maxWait"in a)?o(s(a.maxWait)||0,t):l,b="trailing"in a?!!a.trailing:b),E.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=d=u=f=void 0},E.flush=function(){return void 0===f?p:R(n())},E}},221:function(e,t,a){var r=a(158);e.exports=function(){return r.Date.now()}},222:function(e,t,a){var r=a(223),n=a(172),s=a(225),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var a=i.test(e);return a||c.test(e)?u(e.slice(2),a?2:8):o.test(e)?NaN:+e}},223:function(e,t,a){var r=a(224),n=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(n,""):e}},224:function(e,t){var a=/\s/;e.exports=function(e){for(var t=e.length;t--&&a.test(e.charAt(t)););return t}},225:function(e,t,a){var r=a(178),n=a(179);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},226:function(e,t,a){var r=a(177),n=Object.prototype,s=n.hasOwnProperty,o=n.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),a=e[i];try{e[i]=void 0;var r=!0}catch(c){}var n=o.call(e);return r&&(t?e[i]=a:delete e[i]),n}},227:function(e,t){var a=Object.prototype.toString;e.exports=function(e){return a.call(e)}},236:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return l}));var r=a(181),n=a(274),s=function(e,t,a){var r=n.a.filter((function(t){return t.fact===e}));if(t&&(r=r.filter((function(e){return e.chart===t}))),0===r.length)return[];var s=new Set;r.forEach((function(e){e.breakdownType.forEach((function(e){s.add(e)}))}));var o=Array.from(s);return a.filter((function(e){return-1!==o.indexOf(e.type)}))},o=a(141),i=function(e,t){var a,r=e,n=Object(o.a)(t);try{var s=function(){var e=a.value;r=r.filter((function(t){return t[e.field]===e.value}))};for(n.s();!(a=n.n()).done;)s()}catch(i){n.e(i)}finally{n.f()}return r},c=a(154),u=function(e){var t=!1;switch(e.type){case r.a.ASSOCIATION:2===e.measure.length&&(t=!0);break;case r.a.CATEGORIZATION:e.groupby.length&&(t=!0);break;case r.a.DIFFERENCE:e.measure.length&&e.groupby.length&&e.focus.length>=2&&(t=!0);break;case r.a.DISTRIBUTION:e.measure.length&&e.groupby.length&&(t=!0);break;case r.a.EXTREME:case r.a.OUTLIER:case r.a.PROPORTION:e.measure.length&&e.groupby.length&&e.focus.length&&(t=!0);break;case r.a.RANK:case r.a.TREND:e.measure.length&&e.groupby.length&&(t=!0);break;case r.a.VALUE:e.measure.length&&(t=!0)}return t},l=function(e,t,a){var n=Object.assign({},e);switch(e.type){case r.a.ASSOCIATION:if(n.focus=[],t&&a){var o=s(e.type,e.chart,t);0===n.groupby.length&&o.length>0&&(n.groupby=[o[0].field]);var c=t.filter((function(e){return"numerical"===e.type}));0===n.measure.length&&c.length>0&&(n.measure=[{field:c[0].field,aggregate:"count"}]),1===n.measure.length&&n.measure.push({field:"COUNT",aggregate:"count"})}break;case r.a.CATEGORIZATION:if(n.measure=[],n.focus=[],t&&a){var u=s(e.type,e.chart,t);0===n.groupby.length&&u.length>0&&(n.groupby=[u[0].field])}break;case r.a.DIFFERENCE:if(t&&a){var l=s(e.type,e.chart,t),p=d(a,e.groupby);0===n.groupby.length&&l.length>0&&(n.groupby=[l[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}]),n.focus.length||(n.focus=[{field:n.groupby[0],value:p[0]},{field:n.groupby[0],value:p[1]}])}break;case r.a.DISTRIBUTION:if(n.focus=[],t&&a){var h=s(e.type,e.chart,t);0===n.groupby.length&&h.length>0&&(n.groupby=[h[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}])}break;case r.a.EXTREME:if(t&&a){var m=s(e.type,e.chart,t);if(0===n.groupby.length&&m.length>0&&(n.groupby=[m[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}]),n.measure.length&&n.groupby.length){var g={y:{}};g.y.field=n.measure[0].field,g.y.aggregation=n.measure[0].aggregate,g.x={},g.x.field=n.groupby[0];var b=i(a,n.subspace),v=f(b,g),y=n.measure[0].field,A=v.reduce((function(e,t){return e[y]>t[y]?e:t}));n.focus.length||(n.focus=[{field:n.groupby[0],value:A[n.groupby[0]],extremeFocus:"max",extremeValue:A[n.measure[0].field]}])}}break;case r.a.OUTLIER:if(t&&a){var T=s(e.type,e.chart,t);if(0===n.groupby.length&&T.length>0&&(n.groupby=[T[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}]),n.measure.length&&n.groupby.length){var R={y:{}};R.y.field=n.measure[0].field,R.y.aggregation=n.measure[0].aggregate,R.x={},R.x.field=n.groupby[0];var E=i(a,n.subspace),O=f(E,R),C=O.sort((function(e,t){return t[R.y.field]-e[R.y.field]})).map((function(e){return e[R.x.field]})),w=O.sort((function(e,t){return t[R.y.field]-e[R.y.field]})).map((function(e){return e[R.y.field]})),I=w.length,N=parseInt(.25*(I-1)),k=parseInt(.75*(I-1)),x=.25*(I-1)-N,L=.75*(I-1)-k,S=w[N]+(w[N+1]-w[N])*x,P=w[k]+(w[k+1]-w[k])*L,_=P-1.5*(S-P),j=S+1.5*(S-P),H=[];w.forEach((function(e,t){(e>j||e<_)&&H.push(t)})),!n.focus.length&&H.length&&(n.focus=[{field:e.groupby[0],value:C[H[0]]}])}}break;case r.a.PROPORTION:if(t&&a){var U=s(e.type,e.chart,t);if(0===n.groupby.length&&U.length>0&&(n.groupby=[U[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}]),n.measure.length&&n.groupby.length){var D={y:{}};D.y.field=n.measure[0].field,D.y.aggregation=n.measure[0].aggregate,D.x={},D.x.field=n.groupby[0];var B=i(a,n.subspace),G=f(B,D),M=n.measure[0].field,F=G.reduce((function(e,t){return e[M]>t[M]?e:t}));n.focus.length||(n.focus=[{field:n.groupby[0],value:F[n.groupby[0]]}])}}break;case r.a.RANK:if(n.focus=[],t&&a){var q=s(n.type,n.chart,t);0===n.groupby.length&&q.length>0&&(n.groupby=[q[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}])}break;case r.a.TREND:if(n.focus=[],t&&a){var z=t.filter((function(e){return"temporal"===e.type})),V=z.map((function(e){return e.field}));0===z.length?n.groupby=[]:0!==n.groupby.length&&-1!==V.indexOf(n.groupby[0])||(n.groupby=[z[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}])}break;case r.a.VALUE:n.groupby=[],n.focus=[],t&&a&&0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}])}return n},p=function(e,t){return c.nest().key((function(e){return e[t.x.field]})).entries(e).map((function(e,a){var r=c.scan(e.values,(function(e,a){if(e[t.y.field]&&a[t.y.field])return a[t.y.field]-e[t.y.field]}));return r>=0?e.values[r]:e.values[0]}))},f=function(e,t){var a;switch(t.y.aggregation){case"sum":a=function(e,t){var a=c.nest().key((function(e){return e[t.x.field]})).entries(e),r=new Array(a.length).fill(0);return a.map((function(e,a){e.values.forEach((function(e){r[a]+=e[t.y.field]}));var n=Object.assign({},e.values[0]);return n[t.y.field]=r[a],n}))}(e,t);break;case"avg":a=function(e,t){var a=c.nest().key((function(e){return e[t.x.field]})).entries(e),r=new Array(a.length).fill(0);return a.map((function(e,a){e.values.forEach((function(e){r[a]+=e[t.y.field]}));var n=Object.assign({},e.values[0]);return n[t.y.field]=r[a]/e.values.length,n}))}(e,t);break;case"max":a=p(e,t);break;case"min":a=function(e,t){return c.nest().key((function(e){return e[t.x.field]})).entries(e).map((function(e){var a=c.scan(e.values,(function(e,a){if(e[t.y.field]&&a[t.y.field])return e[t.y.field]-a[t.y.field]}));return a>=0?e.values[a]:e.values[0]}))}(e,t);break;case"count":a=function(e,t){var a=c.nest().key((function(e){return e[t.x.field]})).entries(e),r=new Array(a.length).fill(0);return a.map((function(e,t){e.values.forEach((function(){r[t]+=1}));var a=Object.assign({},e.values[0]);return a.COUNT=r[t],a}))}(e,t);break;default:a=p(e,t)}return a},d=function(e,t){return t?Array.from(new Set(e.map((function(e){return e[t]})))):[]}},238:function(e,t,a){e.exports=a(240)},240:function(e,t,a){"use strict";var r=a(149),n=a(195),s=a(241),o=a(201);function i(e){var t=new s(e),a=n(s.prototype.request,t);return r.extend(a,s.prototype,t),r.extend(a,t),a}var c=i(a(198));c.Axios=s,c.create=function(e){return i(o(c.defaults,e))},c.Cancel=a(202),c.CancelToken=a(254),c.isCancel=a(197),c.all=function(e){return Promise.all(e)},c.spread=a(255),e.exports=c,e.exports.default=c},241:function(e,t,a){"use strict";var r=a(149),n=a(196),s=a(242),o=a(243),i=a(201);function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=i(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],a=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)a=a.then(t.shift(),t.shift());return a},c.prototype.getUri=function(e){return e=i(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,a){return this.request(i(a||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,a,r){return this.request(i(r||{},{method:e,url:t,data:a}))}})),e.exports=c},242:function(e,t,a){"use strict";var r=a(149);function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},243:function(e,t,a){"use strict";var r=a(149),n=a(244),s=a(197),o=a(198);function i(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return i(e),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return i(e),t.data=n(t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(i(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},244:function(e,t,a){"use strict";var r=a(149);e.exports=function(e,t,a){return r.forEach(a,(function(a){e=a(e,t)})),e}},245:function(e,t,a){"use strict";var r=a(149);e.exports=function(e,t){r.forEach(e,(function(a,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=a,delete e[r])}))}},246:function(e,t,a){"use strict";var r=a(200);e.exports=function(e,t,a){var n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(r("Request failed with status code "+a.status,a.config,null,a.request,a)):e(a)}},247:function(e,t,a){"use strict";e.exports=function(e,t,a,r,n){return e.config=t,a&&(e.code=a),e.request=r,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},248:function(e,t,a){"use strict";var r=a(149);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,a,n,s,o){var i=[];i.push(e+"="+encodeURIComponent(t)),r.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),r.isString(n)&&i.push("path="+n),r.isString(s)&&i.push("domain="+s),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},249:function(e,t,a){"use strict";var r=a(250),n=a(251);e.exports=function(e,t){return e&&!r(t)?n(e,t):t}},250:function(e,t,a){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},251:function(e,t,a){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},252:function(e,t,a){"use strict";var r=a(149),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,a,s,o={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),a=r.trim(e.substr(s+1)),t){if(o[t]&&n.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([a]):o[t]?o[t]+", "+a:a}})),o):o}},253:function(e,t,a){"use strict";var r=a(149);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");function n(e){var r=e;return t&&(a.setAttribute("href",r),r=a.href),a.setAttribute("href",r),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}return e=n(window.location.href),function(t){var a=r.isString(t)?n(t):t;return a.protocol===e.protocol&&a.host===e.host}}():function(){return!0}},254:function(e,t,a){"use strict";var r=a(202);function n(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var a=this;e((function(e){a.reason||(a.reason=new r(e),t(a.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},255:function(e,t,a){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},274:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(181),n=a(186),s=a(205),o=[{fact:r.a.ASSOCIATION,chart:n.a.SCATTER_PLOT,breakdownType:[s.a.CATEGORICAL,s.a.TEMPORAL,s.a.GEOGRAPHICAL]},{fact:r.a.OUTLIER,chart:n.a.VERTICAL_BAR_CHART,breakdownType:[s.a.CATEGORICAL,s.a.TEMPORAL,s.a.GEOGRAPHICAL]},{fact:r.a.OUTLIER,chart:n.a.AREA_CHART,breakdownType:[s.a.TEMPORAL]},{fact:r.a.OUTLIER,chart:n.a.LINE_CHART,breakdownType:[s.a.TEMPORAL]},{fact:r.a.EXTREME,chart:n.a.VERTICAL_BAR_CHART,breakdownType:[s.a.CATEGORICAL,s.a.TEMPORAL,s.a.GEOGRAPHICAL]},{fact:r.a.EXTREME,chart:n.a.LINE_CHART,breakdownType:[s.a.TEMPORAL]},{fact:r.a.EXTREME,chart:n.a.AREA_CHART,breakdownType:[s.a.TEMPORAL]},{fact:r.a.PROPORTION,chart:n.a.PROGRESS_BAR_CHART,breakdownType:[s.a.CATEGORICAL,s.a.GEOGRAPHICAL,s.a.TEMPORAL]},{fact:r.a.PROPORTION,chart:n.a.PIE_CHART,breakdownType:[s.a.CATEGORICAL,s.a.GEOGRAPHICAL,s.a.TEMPORAL]},{fact:r.a.RANK,chart:n.a.HORIZONTAL_BAR_CHART,breakdownType:[s.a.CATEGORICAL,s.a.GEOGRAPHICAL,s.a.TEMPORAL]},{fact:r.a.DISTRIBUTION,chart:n.a.AREA_CHART,breakdownType:[s.a.TEMPORAL]},{fact:r.a.DISTRIBUTION,chart:n.a.VERTICAL_BAR_CHART,breakdownType:[s.a.CATEGORICAL,s.a.GEOGRAPHICAL]},{fact:r.a.DIFFERENCE,chart:n.a.HORIZONTAL_BAR_CHART,breakdownType:[s.a.CATEGORICAL,s.a.GEOGRAPHICAL,s.a.TEMPORAL]},{fact:r.a.CATEGORIZATION,chart:n.a.VERTICAL_BAR_CHART,breakdownType:[s.a.CATEGORICAL,s.a.GEOGRAPHICAL]},{fact:r.a.TREND,chart:n.a.LINE_CHART,breakdownType:[s.a.TEMPORAL]},{fact:r.a.VALUE,chart:n.a.VERTICAL_BAR_CHART}]},287:function(e,t,a){"use strict";a.d(t,"b",(function(){return R})),a.d(t,"a",(function(){return O}));var r=a(21),n=a(0),s=a.n(n),o=a(186),i=a(181),c=a(205),u=[{fact:i.a.ASSOCIATION,chart:o.a.SCATTER_PLOT,breakdownType:[c.a.CATEGORICAL,c.a.TEMPORAL,c.a.GEOGRAPHICAL]},{fact:i.a.OUTLIER,chart:o.a.AREA_CHART,breakdownType:[c.a.TEMPORAL]},{fact:i.a.OUTLIER,chart:o.a.LINE_CHART,breakdownType:[c.a.TEMPORAL]},{fact:i.a.EXTREME,chart:o.a.VERTICAL_BAR_CHART,breakdownType:[c.a.CATEGORICAL,c.a.CATEGORICAL,c.a.GEOGRAPHICAL]},{fact:i.a.EXTREME,chart:o.a.LINE_CHART,breakdownType:[c.a.TEMPORAL]},{fact:i.a.EXTREME,chart:o.a.AREA_CHART,breakdownType:[c.a.TEMPORAL]},{fact:i.a.PROPORTION,chart:o.a.PROGRESS_BAR_CHART,breakdownType:[c.a.CATEGORICAL,c.a.GEOGRAPHICAL]},{fact:i.a.PROPORTION,chart:o.a.PIE_CHART,breakdownType:[c.a.CATEGORICAL,c.a.GEOGRAPHICAL]},{fact:i.a.RANK,chart:o.a.HORIZONTAL_BAR_CHART,breakdownType:[c.a.CATEGORICAL,c.a.GEOGRAPHICAL]},{fact:i.a.DISTRIBUTION,chart:o.a.AREA_CHART,breakdownType:[c.a.TEMPORAL]},{fact:i.a.DISTRIBUTION,chart:o.a.VERTICAL_BAR_CHART,breakdownType:[c.a.CATEGORICAL,c.a.GEOGRAPHICAL]},{fact:i.a.DIFFERENCE,chart:o.a.HORIZONTAL_BAR_CHART,breakdownType:[c.a.CATEGORICAL,c.a.GEOGRAPHICAL,c.a.TEMPORAL]},{fact:i.a.CATEGORIZATION,chart:o.a.VERTICAL_BAR_CHART,breakdownType:[c.a.CATEGORICAL,c.a.GEOGRAPHICAL]},{fact:i.a.TREND,chart:o.a.LINE_CHART,breakdownType:[c.a.TEMPORAL]},{fact:i.a.VALUE,chart:o.a.VERTICAL_BAR_CHART}],l=a(274),p=function e(t,a){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=a.filter((function(e){return e.field===t.groupby[0]}))[0],o=n?l.a:u;return r=o.filter((function(e){return e.fact===t.type})),s&&(r=r.filter((function(e){return-1!==e.breakdownType.indexOf(s.type)})),s.type===c.a.CATEGORICAL&&s.values&&(r=r.filter((function(e){return!e.rang||s.values.length>=e.rang[0]&&s.values.length<=e.rang[1]}))),0!==r.length||n||(r=e(t,a,!0))),r},f=a(15),d=a(16),h=a(17),m=a(18),g=a(396),b=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.spec.chart.id,t=this.props.spec,a=e?"#vischart_".concat(e):"#demo-chart";this.autovis=new g.AutoVis,this.autovis=new g.AutoVis,this.autovis.container(a),this.autovis.load(t),this.autovis.generate()}},{key:"componentDidUpdate",value:function(e){var t=this.props.spec.chart.id,a=this.props.spec,r=t?"#vischart_".concat(t):"#demo-chart";this.autovis=new g.AutoVis,this.autovis=new g.AutoVis,this.autovis.container(r),this.autovis.load(a),this.autovis.generate()}},{key:"render",value:function(){if(this.props.spec.chart){var e=this.props.spec.chart,t=e.size;if("vegalite"===e.type){var a=this.props.spec.chart.width;.5*this.props.spec.chart.height,.5*a}else switch(t){case"wide":220,560;break;case"middle":200,360;break;case"small":150,235}}var r=(this.props.spec.chart?this.props.spec.chart:{id:"demo-chart"}).id;return s.a.createElement("div",{id:r?"vischart_".concat(r):"demo-chart",style:{height:"640",width:"640",display:"flex",alignItems:"center",justifyContent:"center",visibility:"hidden"}})}}]),a}(n.Component),v=a(236),y=a(185),A=a.n(y),T=function(e){return Math.round(Math.random()*(e-1))},R=function(e,t){var a=p(t,e);return 0===a.length?null:a[T(a.length)].chart},E=function(e){var t=e;switch(e){case o.a.AREA_CHART:t="areachart";break;case o.a.BUBBLE_CHART:t="bubblechart";break;case o.a.COLOR_FILLING_MAP:t="filledmap";break;case o.a.BUBBLE_MAP:t="bubblemap";break;case o.a.HALF_RING_CHART:t="donutchart";break;case o.a.HORIZONTAL_BAR_CHART:t="horizentalbarchart";break;case o.a.VERTICAL_BAR_CHART:case o.a.STACKED_BAR_CHART:case o.a.VERTICAL_DIFFERENCE_BAR_CHART:case o.a.ISOTYPE_BAR_CHART:case o.a.VERTICAL_DIFFERENCE_ARROW_CHART:t="verticalbarchart";break;case o.a.LINE_CHART:case o.a.STACKED_LINE_CHART:t="linechart";break;case o.a.PROPORTION_ISOTYPE_CHART:case o.a.PIE_CHART:t="piechart";break;case o.a.PROGRESS_BAR_CHART:t="progresschart";break;case o.a.RING_CHART:t="donutchart";break;case o.a.SCATTER_PLOT:t="scatterplot";break;case o.a.TEXT_CHART:t="textchart";break;case o.a.TREE_MAP:t="treemap"}return t},O=function(e,t,a,n,i,c){a.chart&&""!==a.chart||(a.chart=R(e.schema,a));var u=a.chart;if(u===o.a.ISOTYPE_BAR_CHART&&(a.chart=o.a.VERTICAL_BAR_CHART),!(a=Object(v.a)(a)).chart||!Object(v.b)(a))return console.log("no valid",a),null;var l={id:t,size:i,type:E(u),style:"business",duration:0,showSuggestion:!1},p={data:e=Object(r.a)(Object(r.a)({},e),{},{values:n}),fact:a,chart:l};return s.a.createElement(b,{spec:A.a.cloneDeep(p)})}},320:function(e,t,a){"use strict";var r=a(321);e.exports=function(e,t,a){if("number"===typeof t&&(a=t),r.has(e.toLowerCase())){t=r.get(e.toLowerCase());var n=e.charAt(0);n===n.toUpperCase()&&(t=n.toUpperCase()+t.slice(1)),e===e.toUpperCase()&&(t=t.toUpperCase())}else"string"!==typeof t&&(t=(e.replace(/(?:s|x|z|ch|sh)$/i,"$&e").replace(/([^aeiou])y$/i,"$1ie")+"s").replace(/i?e?s$/i,(function(t){return e.slice(-1)===e.slice(-1).toLowerCase()?t.toLowerCase():t.toUpperCase()})));return 1===Math.abs(a)?e:t}},321:function(e,t,a){"use strict";(function(e){var t=a(322);Object.defineProperty(e,"exports",{get:function(){return new Map(Object.entries(t))}})}).call(this,a(53)(e))},322:function(e){e.exports=JSON.parse('{"addendum":"addenda","aircraft":"aircraft","alga":"algae","alumna":"alumnae","alumnus":"alumni","amoeba":"amoebae","analysis":"analyses","antenna":"antennae","antithesis":"antitheses","apex":"apices","appendix":"appendices","automaton":"automata","axis":"axes","bacillus":"bacilli","bacterium":"bacteria","barracks":"barracks","basis":"bases","beau":"beaux","bison":"bison","buffalo":"buffalo","bureau":"bureaus","cactus":"cacti","calf":"calves","carp":"carp","census":"censuses","chassis":"chassis","cherub":"cherubim","child":"children","ch\xe2teau":"ch\xe2teaus","cod":"cod","codex":"codices","concerto":"concerti","corpus":"corpora","crisis":"crises","criterion":"criteria","curriculum":"curricula","datum":"data","deer":"deer","diagnosis":"diagnoses","die":"dice","dwarf":"dwarfs","echo":"echoes","elf":"elves","elk":"elk","ellipsis":"ellipses","embargo":"embargoes","emphasis":"emphases","erratum":"errata","faux pas":"faux pas","fez":"fezes","firmware":"firmware","fish":"fish","focus":"foci","foot":"feet","formula":"formulae","fungus":"fungi","gallows":"gallows","genus":"genera","goose":"geese","graffito":"graffiti","grouse":"grouse","half":"halves","hero":"heroes","hoof":"hooves","hovercraft":"hovercraft","hypothesis":"hypotheses","index":"indices","kakapo":"kakapo","knife":"knives","larva":"larvae","leaf":"leaves","libretto":"libretti","life":"lives","loaf":"loaves","locus":"loci","louse":"lice","man":"men","matrix":"matrices","means":"means","medium":"media","media":"media","memorandum":"memoranda","millennium":"millennia","minutia":"minutiae","moose":"moose","mouse":"mice","nebula":"nebulae","nemesis":"nemeses","neurosis":"neuroses","news":"news","nucleus":"nuclei","oasis":"oases","offspring":"offspring","opus":"opera","ovum":"ova","ox":"oxen","paralysis":"paralyses","parenthesis":"parentheses","person":"people","phenomenon":"phenomena","phylum":"phyla","pike":"pike","polyhedron":"polyhedra","potato":"potatoes","prognosis":"prognoses","quiz":"quizzes","radius":"radii","referendum":"referenda","salmon":"salmon","scarf":"scarves","self":"selves","series":"series","sheep":"sheep","shelf":"shelves","shrimp":"shrimp","spacecraft":"spacecraft","species":"species","spectrum":"spectra","squid":"squid","stimulus":"stimuli","stratum":"strata","swine":"swine","syllabus":"syllabi","symposium":"symposia","synopsis":"synopses","synthesis":"syntheses","tableau":"tableaus","that":"those","thesis":"theses","thief":"thieves","this":"these","tomato":"tomatoes","tooth":"teeth","trout":"trout","tuna":"tuna","vertebra":"vertebrae","vertex":"vertices","veto":"vetoes","vita":"vitae","vortex":"vortices","watercraft":"watercraft","wharf":"wharves","wife":"wives","wolf":"wolves","woman":"women"}')},392:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return l}));var r=a(15),n=a(16),s=a(17),o=a(18),i=a(0),c=a.n(i),u=a(287),l=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).shouldRender=!1,e.getSize=function(){return"large"},e}return Object(n.a)(a,[{key:"componentWillMount",value:function(){this.shouldRender=!0}},{key:"shouldComponentUpdate",value:function(){return!!this.shouldRender&&(this.shouldRender=!1,!0)}},{key:"render",value:function(){var e=this.props,t=e.schema,a=e.fact,r=e.data;return c.a.createElement(c.a.Fragment,null,Object(u.a)({schema:t},a.id,a,r,this.getSize()))}}]),a}(i.Component)},55:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var r=a(21),n=a(15),s=a(16),o=a(17),i=a(18),c=a(0),u=a.n(c),l=a(181),p=[{id:0,template:"The Pearson correlation between the {{measure1}} and the {{measure2}} is {{parameter}} when {{subspace}}."},{id:1,template:"When {{subspace}}, the Pearson correlation coefficient between the {{measure1}} and the {{measure2}} is {{parameter}}."},{id:2,template:"When {{subspace}}, the {{measure1}} is correlated with the {{measure2}} and the Person correlation is {{parameter}}."}],f=[{id:0,template:"When {{subspace}}, there are {{parameter}} {{groupby}}s: {{no.1}}, {{no.2}}, {{no.3}}, and {{focus}} needs to pay attention."},{id:1,template:"When {{subspace}}, the data are grouped into {{parameter}} {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}, among which {{focus}} needs to pay attention."},{id:2,template:"The data contain {{parameter}} {{groupby}}s when {{subspace}}, which are {{no.1}}, {{no.2}}, {{no.3}}. {{focus}} needs to pay attention."}],d=[{id:0,template:"The difference between {{focus1}} and {{focus2}} regarding to their {{agg}} {{measure}} is {{parameter}} when {{subspace}}."},{id:1,template:"{{focus1}} and {{focus2}}'s difference on the {{agg}} {{measure}} is {{parameter}} when {{subspace}}."},{id:2,template:"A comparison between {{focus1}} and {{focus2}} on their {{agg}} {{measure}} shows the difference is {{parameter}} when {{subspace}}."}],h=[{id:0,template:"The distribution of the {{agg}} {{measure}} over different {{groupby}}s shows an overview of the data when {{subspace}} and {{focus}} needs to pay attention."},{id:1,template:"The distribution of the {{agg}} {{measure}} over different {{groupby}}s shows an overview of the data when {{subspace}} and {{focus}} needs to pay attention."},{id:2,template:"The distribution of the {{agg}} {{measure}} over different {{groupby}}s shows an overview of the data when {{subspace}} and {{focus}} needs to pay attention."}],m=[{id:0,template:"Given {{subspace}}, the {{focus}} value of the {{agg}} {{measure}} is {{parameter[1]}} when the {{groupby}} is {{parameter[0]}}."},{id:1,template:"The {{focus}} {{agg}} {{measure}} value over {{groupby}}s is {{parameter[1]}} when the {{groupby}} is {{parameter[0]}} given {{subspace}}."},{id:2,template:"Among all {{groupby}}s, {{parameter[0]}} has the {{focus}} {{agg}} {{measure}} value, which is {{parameter[1]}}, when {{subspace}}."}],g=[{id:0,template:"The {{agg}} {{measure}} of {{focus}} is an outlier when compared with that of other {{groupby}}s when {{subspace}}."},{id:1,template:"{{focus}}'s {{agg}} {{measure}} is anomalously different from other {{groupby}}s' {{measure}} when {{subspace}}."},{id:2,template:"Among various {{groupby}}s, the {{agg}} {{measure}} of {{focus}} is an anomaly when {{subspace}}."}],b=[{id:0,template:"The {{focus}} accounts for {{parameter}} of the {{agg}} {{measure}} when {{subspace}}."},{id:1,template:"The {{focus}} makes up {{parameter}} of the {{agg}} {{measure}} when {{subspace}}."},{id:2,template:"The {{focus}}'s {{agg}} {{measure}} takes {{parameter}} of the {{agg}} {{measure}} when {{subspace}}."}],v=[{id:0,template:"In the {{agg}} {{measure}} ranking of different {{groupby}}s,  the top three {{groupby}}s are {{no.1}}, {{no.2}}, {{no.3}}, when {{subspace}}."},{id:1,template:"The ranking list of the {{groupby}}s ordered by their {{agg}} {{measure}} when {{subspace}}, in which the top three {{groupby}}s are {{no.1}}, {{no.2}}, {{no.3}}."},{id:2,template:"When sorting the {{groupby}}s in order based on their {{agg}} {{measure}}, the top three {{groupby}}s are {{no.1}}, {{no.2}}, {{no.3}} when {{subspace}}."}],y=[{id:0,template:"The trend of the {{agg}} {{measure}} over {{groupby}}s is {{parameter}} when {{subspace}} and the value of {{focus}} needs to pay attention."},{id:1,template:"The {{agg}} {{measure}} over {{groupby}}s shows a/an {{parameter}} trend when {{subspace}} and the value of {{focus}} needs to pay attention."},{id:2,template:"The {{agg}} {{measure}} over {{groupby}}s is {{parameter}} when {{subspace}} and the value of {{focus}} needs to pay attention."}],A=[{id:0,template:"The {{agg}} {{measure}} is {{parameter}} when {{subspace}}."},{id:1,template:"When {{subspace}}, the value of the {{agg}} {{measure}} is {{parameter}}."},{id:2,template:"The {{agg}} {{measure}} value is {{parameter}} when {{subspace}}."}],T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=[];switch(e){case l.a.ASSOCIATION:a=p;break;case l.a.CATEGORIZATION:a=f;break;case l.a.DIFFERENCE:a=d;break;case l.a.DISTRIBUTION:a=h;break;case l.a.EXTREME:a=m;break;case l.a.OUTLIER:a=g;break;case l.a.PROPORTION:a=b;break;case l.a.RANK:a=v;break;case l.a.TREND:a=y;break;case l.a.VALUE:a=A}-1===t&&(t=Math.floor(10*Math.random())%3);var r="";try{r=a[t].template}catch(n){console.error(n),console.log("wrong id:"+t)}return r},R=a(236),E={SUM:"sum",MAX:"max",MIN:"min",AVG:"avg",COUNT:"count"},O=a(185),C=a.n(O),w=a(320),I=function(e){switch(e){case E.SUM:return"total";case E.MAX:return"maximum";case E.MIN:return"minimum";case E.AVG:return"average";case E.COUNT:return"count";case E.NONE:default:return""}},N=function(e){return"count"===e.aggregate?"":e.field.toLowerCase()},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",a=e[0];if("single"===t)return a.toLowerCase();if("plural"===t){if(-1===a.indexOf(" of "))return w(a,2).toLowerCase();var r=a.split(" "),n=r.indexOf("of")-1;if(n>-1){var s=w(r[n],2);return a.replace(r[n],s)}}},x=function(e){var t=0,a="",r="";(e=(e||0).toString()).indexOf(".")>0?(t=(e=e.toFixed(2)).indexOf("."),a=e.substr(t),r=e.substring(0,t)):r=e;for(var n=[],s=0,o=(r=r.split("")).length-1;o>=0;o--)s++,n.unshift(r[o]),s%3||0===o||n.unshift(",");return n.join("")+a||""},L=function(e,t){var a="";return e.subspace.length?(e.subspace.map((function(e,t){return a+="".concat(0===t?" ":" and ","the ").concat(e.field," is ").concat(e.value)})),t=t.replace("{{subspace}}",a)):t=(t=(t=(t=(t=(t=(t=t.replace(", when {{subspace}}","")).replace(" when {{subspace}}","")).replace(" in case of {{subspace}}","")).replace(" given {{subspace}}","")).replace("When {{subspace}}, ","")).replace("Given {{subspace}}, ","")).replace("In case of {{subspace}}, ",""),t},S=a(54),P=function(e,t){if(-1===e.indexOf(t))return e;var a=e.indexOf(t)+t.length;"s"===e.substring(a,a+1)&&(a+=1);var r=e.indexOf(t),n=e.substring(0,a)+"</i></span>"+e.substring(a);return n=n.substring(0,r)+'<span class="hightlight"><i>'+n.substring(r)},_=function(e){if(!Object(R.b)(e))return"";var t,a,r=e.generatedScript;switch(e.type){case l.a.ASSOCIATION:a=r;break;case l.a.RANK:var n=e.parameter[0],s=e.parameter[1],o=e.parameter[2];a=P(r,n),s&&(a=P(a,s)),s&&o&&(a=P(a,o));break;case l.a.VALUE:case l.a.DIFFERENCE:a=P(r,e.measure[0].field.toLowerCase()),a=P(a,x(e.parameter));break;case l.a.RANK:a=P(r,"decreasing");break;case l.a.OUTLIER:a=r;break;case l.a.EXTREME:case l.a.OUTLIER:a=P(r,"maximum"),e.parameter[1]&&(a=P(a,x(e.parameter[1])));break;case l.a.DISTRIBUTION:a=r;break;case l.a.CATEGORIZATION:t=e.parameter.length.toString(),a=P(r,t);break;default:t=e.parameter,a=P(r,t)}return a},j=a(154),H=(a(119),new Map),U=new Map,D=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).renderLayout=null,s.computeSizeAndRenderCharts=function(){var e=C.a.cloneDeep(s.state.facts).map((function(e,t){if(!U.get(e.id))return e;var a=U.get(e.id).current,r=0,n=0,o=0;if(a&&(o=a.clientHeight),s.renderLayout&&s.renderLayout[t]){var i=s.renderLayout[t],c=i.x0,u=i.x1,l=i.y0;r=u-c,n=i.y1-l-o}return 0===r||0===n||(e.width=r,e.height=n,e.captionH=o,0===t&&(e.preContainerSize=s.props.containerSize)),e}));s.setState({facts:e},(function(){s.renderCharts()}))},s.renderCharts=function(){setTimeout((function(){s.batchUpdateSvg()}),1e3)},s.batchUpdateSvg=function(){C.a.cloneDeep(s.state.facts).map((function(e){if(!H.get(e.id))return e;var t=H.get(e.id).current;return t&&s.updateSvg(t,e.width,e.height),e}))},s.updateSvg=function(e,t,a){if(e){var r=a-15,n=Math.min(t,r)/640,o=e.children&&e.children[0];o&&(o.setAttribute("style","transform:scale(".concat(.9*n,');visibility:"visible"')),o.onmouseenter=function(){o.setAttribute("style","transform:scale(".concat(.9*n,");border:").concat(s.props.isEdit?"1px dashed grey":" "," "))},o.onmouseleave=function(){o.setAttribute("style","transform:scale(".concat(.9*n,")"))})}},s._renderedFacts=function(e){var t=s.state,a=t.renderNum,r=t.count;return e.slice(0,a>=r?r:a)},s.weightAdapter=function(e,t){var a=e.children.length,n=[];switch(t){case 1:n=[1],2===a?n=[3,2]:3===a&&(n=[3,1.2,.8]);break;case 2:n=[1],2===a?n=[4,3]:3===a&&(n=[6,3,2]);break;case 3:n=[1],2===a?n=[3,2]:3===a&&(n=[3,1.2,.8]);break;case 4:n=[1],2===a?n=[3,2]:3===a&&(n=[4,3,2])}return{children:e.children.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{},{significance:n[t]})}))}},s.change=function(e){s.setState({renderNum:e.target.value})},s.getTreemap=function(e,t,a){return j.treemap().tile(j.treemapResquarify.ratio(1)).size([e,t]).padding(3).round(!0)(j.hierarchy(a).sum((function(e){return e.significance})))},s.sort=function(e){return e.sort((function(e,t){return t.significance-e.significance}))},s.setRef=function(e){return H.set(e,u.a.createRef()),H.get(e)},s.setCaptionRef=function(e){return U.set(e,u.a.createRef()),U.get(e)},s.endEdit=function(e,t){var a=U.get(e).current,r=s.props,n=r.cachedQA,o=r.QAID,i=C.a.cloneDeep(n);i[o].facts[t].script=a.innerHTML,s.props.saveCachedDecomposedQA(i)},s.deleteCard=function(e){var t=s.props,a=t.cachedQA,r=t.QAID,n=C.a.cloneDeep(a),o=r;n[o]&&n[o].facts.splice(e,1),n[o]&&0===n[o].facts.length&&n.splice(o,1),s.props.saveCachedDecomposedQA(n)},s.state={renderNum:5,count:5,clientWidth:0,clientHeight:0,facts:s.props.facts,containerSize:s.props.containerSize},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.computeSizeAndRenderCharts()}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.containerSize.width,r=e.containerSize.height,n=this.state.containerSize,s=n.width,o=n.height;a===s&&r===o||this.setState({containerSize:{width:a,height:r}}),e.isUpdateLayout&&this.setState({facts:e.facts},(function(){t.computeSizeAndRenderCharts()}))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state.containerSize,a=t.width,r=t.height,n=this.state.facts[0].preContainerSize;if(n&&(n.width!==a||n.height!==r)){var s=C.a.cloneDeep(this.state.facts);s[0].preContainerSize=this.state.containerSize,this.setState({facts:s},(function(){e.computeSizeAndRenderCharts()}))}this.props.isEdit&&this.renderCharts()}},{key:"render",value:function(){var e=this,t=this.props,a=t.columnNum,r=t.isEdit,n=(t.QAID,t.schema),s=t.data,o=this.state.containerSize,i=this.state.facts,c={children:this._renderedFacts(this.sort(i))},p=o.width,f=o.height;return this.renderLayout=this.getTreemap(p,f,this.weightAdapter(c,a)).leaves(),u.a.createElement("div",{className:"inner-auto-layout"},this.renderLayout&&this.renderLayout.map((function(t,a){var o=t.data,i=t.x0,c=t.x1,p=t.y0,f=t.y1,d=o.script?o.script:function(e){if(!Object(R.b)(e))return"";var t=C.a.cloneDeep(e),a=T(t.type),r=E.NONE;switch(t.measure.length>0&&(r=t.measure[0].aggregate),t.type){case l.a.ASSOCIATION:a=(a=(a=(a=a.replace("{{measure1}}",N(t.measure[0]))).replace("{{measure2}}",N(t.measure[1]))).replace("{{agg1}}",I(t.measure[0].aggregate))).replace("{{agg2}}",I(t.measure[1].aggregate)),a=L(t,a),""!==t.parameter&&(a=a.replace("{{parameter}}",x(Number.parseFloat(t.parameter).toFixed(3))));break;case l.a.CATEGORIZATION:if(a=(a=a.replace("{{groupby}}s",k(t.groupby,"plural"))).replace("{{groupby}}s",k(t.groupby,"plural")),a=L(t,a),t.parameter.length){a=a.replace("{{parameter}}",x(t.parameter.length));var n="";t.parameter.forEach((function(e,t){n+="".concat(0===t?"":","," ").concat(e)})),a=a.replace("{{no.1}}, {{no.2}}, {{no.3}}",n)}if(t.focus.length)if(a.indexOf(". {{focus}}")>-1){var s=t.focus[0].value.slice(0,1).toUpperCase()+t.focus[0].value.slice(1);a=a.replace("{{focus}}",s)}else a=a.replace("{{focus}}",t.focus[0].value);else a=(a=(a=a.replace(", and {{focus}} needs to pay attention","")).replace(", among which {{focus}} needs to pay attention","")).replace(". {{focus}} needs to pay attention","");break;case l.a.DIFFERENCE:a=(a=a.replace("{{measure}}",N(t.measure[0]))).replace("{{agg}}",I(r)),t.focus.length>=2&&(a=(a=a.replace("{{focus1}}",t.focus[0].value)).replace("{{focus2}}",t.focus[1].value)),a=L(t,a),""!==t.parameter&&(a=a.replace("{{parameter}}",x(t.parameter)));break;case l.a.DISTRIBUTION:a=(a=(a=(a=(a=a.replace("{{measure}}",N(t.measure[0]))).replace("{{measure}}",N(t.measure[0]))).replace("{{agg}}",I(r))).replace("{{groupby}}s",k(t.groupby,"plural"))).replace("{{groupby}}",k(t.groupby)),a=L(t,a),a=t.focus.length?a.replace("{{focus}}",t.focus[0].value):a.replace(" and {{focus}} needs to pay attention","");break;case l.a.EXTREME:a=(a=(a=(a=(a=a.replace("{{measure}}",N(t.measure[0]))).replace("{{agg}}",I(r))).replace("{{groupby}}s",k(t.groupby,"plural"))).replace("{{groupby}}",k(t.groupby))).replace("{{groupby}}",k(t.groupby)),a=L(t,a),t.focus.length&&(void 0!==t.focus[0].extremeFocus&&void 0!==t.focus[0].extremeValue?a=(a=(a="min"===t.focus[0].extremeFocus?a.replace("{{focus}}","minimum"):a.replace("{{focus}}","maximum")).replace("{{parameter[0]}}",t.focus[0].value)).replace("{{parameter[1]}}",x(Math.round(100*t.parameter[1])/100)):t.parameter.length&&(a=(a=(a="min"===t.parameter[0]?a.replace("{{focus}}","minimum"):a.replace("{{focus}}","maximum")).replace("{{parameter[0]}}",t.focus[0].value)).replace("{{parameter[1]}}",x(t.parameter[1]))));break;case l.a.OUTLIER:a=(a=(a=(a=a.replace("{{measure}}",N(t.measure[0]))).replace("{{measure}}",N(t.measure[0]))).replace("{{groupby}}s",k(t.groupby,"plural"))).replace("{{agg}}",I(r)),a=L(t,a),t.focus.length&&(a=a.replace("{{focus}}",t.focus[0].value));break;case l.a.PROPORTION:a=(a=(a=(a=a.replace("{{measure}}",N(t.measure[0]))).replace("{{agg}}",I(r))).replace("{{measure}}",N(t.measure[0]))).replace("{{agg}}",I(r)),a=L(t,a),t.focus.length&&(a=a.replace("{{focus}}",t.focus[0].value)),t.parameter&&(a=a.replace("{{parameter}}",t.parameter));break;case l.a.RANK:a=(a=(a=(a=a.replace("{{measure}}",N(t.measure[0]))).replace("{{agg}}",I(r))).replace("{{groupby}}s",k(t.groupby,"plural"))).replace("{{groupby}}s",k(t.groupby,"plural")),a=L(t,a),t.parameter.length>=3?(a=(a=(a=a.replace("{{parameter}}",x(t.parameter.length))).replace("{{no.1}}",t.parameter[0])).replace("{{no.2}}",t.parameter[1]),3===t.parameter.length||t.parameter.length>3?a=a.replace("{{no.3}}",t.parameter[2]):2===t.parameter.length&&(a=a.replace(", {{no.3}}",""))):a="";break;case l.a.TREND:a=(a=(a=a.replace("{{measure}}",N(t.measure[0]))).replace("{{agg}}",I(r))).replace("{{groupby}}s",k(t.groupby,"plural")),a=L(t,a),t.parameter&&(a=a.replace("{{parameter}}",t.parameter),a="increasing"===t.parameter?a.replace("a/an","an"):a.replace("a/an","a")),a=t.focus.length?a.replace("{{focus}}",t.focus[0].value):a.replace(" and the value of {{focus}} needs to pay attention","");break;case l.a.VALUE:a=(a=a.replace("{{measure}}",N(t.measure[0]))).replace("{{agg}}",I(r)),a=L(t,a),t.focus.length&&(a=a.replace("{{focus}}",t.focus[0].value)),""!==t.parameter&&(a=a.replace("{{parameter}}",x(t.parameter)))}return a=a.slice(0,1).toUpperCase()+a.slice(1)}(o)||" ";return o.generatedScript=d,u.a.createElement("div",{style:{position:"absolute",left:i,top:p,width:c-i,height:f-p}},u.a.createElement("div",{className:"chart-card"},r&&u.a.createElement("div",{className:"delete",onClick:function(){return e.deleteCard(a)}}),u.a.createElement("div",{className:"wrapper"},u.a.createElement("div",{className:"vis-box",style:{height:"calc(100% - ".concat(o.captionH,"px)")}},u.a.createElement("div",{className:"bound-box",id:o.id,ref:e.setRef(o.id)},u.a.createElement(S.default,{schema:n,fact:o,data:s}))),u.a.createElement("div",{className:"caption",contentEditable:r,suppressContentEditableWarning:!0,ref:e.setCaptionRef(o.id,a),onBlur:function(){return e.endEdit(o.id,a)},dangerouslySetInnerHTML:{__html:_(o)}}))))})))}}]),a}(c.Component)},56:function(e,t,a){"use strict";a.r(t),t.default={story1:[{question:"which category has the highest sales?",facts:[{type:"extreme",measure:[{field:"sales",type:"numerical",aggregate:"sum"}],breakdown:[{field:"category",type:"categorical"}],subspace:[],focus:[{field:"category",value:"SUV"}],parameter:["","6853129"],script:"The maximum value of the total sales is 6,853,129 when the category is SUV."}]},{question:"what is the sales over year?",facts:[{type:"trend",measure:[{field:"sales",type:"numerical",aggregate:"sum"}],breakdown:[{field:"year",type:"temporal"}],subspace:[],focus:[],parameter:"decreasing",script:"The total sales over years is decreasing."}]},{question:"what is the total value of sales?",facts:[{type:"value",measure:[{field:"sales",type:"numerical",aggregate:"sum"}],breakdown:[],subspace:[],focus:[],parameter:21921768,script:"The total sales value is 21,921,768."}]}],story2:[{question:"what is the trend of sales?",facts:[{type:"trend",measure:[{field:"sales",type:"numerical",aggregate:"sum"}],breakdown:[{field:"year",type:"temporal"}],subspace:[],focus:[],parameter:"decreasing",script:"The trend of total sales over years is decreasing."}]},{question:"which brand has the highest/lowest sales?",facts:[{type:"extreme",measure:[{field:"sales",type:"numerical",aggregate:"sum"}],breakdown:[{field:"brand",type:"categorical"}],subspace:[],focus:[{field:"brand",value:"Ford"}],parameter:["","5489641"],script:"The maximum value of the total sales is 5,489,641 when the brand is Ford."}]},{question:"which brand has an increasing trend of sales?",facts:[{type:"trend",measure:[{field:"sales",type:"numerical",aggregate:"sum"}],breakdown:[{field:"year",type:"temporal"}],subspace:[{field:"brand",type:"categorical",value:"Volkswagen"}],focus:[],parameter:"increasing",script:"The total sales over years shows an increasing trend when the brand is Volkswagen."},{type:"trend",measure:[{field:"sales",type:"numerical",aggregate:"sum"}],breakdown:[{field:"year",type:"temporal"}],subspace:[{field:"brand",type:"categorical",value:"Ford"}],focus:[],parameter:"increasing",script:"The trend of total sales over years is increasing when the brand is Ford."},{type:"trend",measure:[{field:"sales",type:"numerical",aggregate:"sum"}],breakdown:[{field:"year",type:"temporal"}],subspace:[{field:"brand",type:"categorical",value:"Hyundai"}],focus:[],parameter:"increasing",script:"The trend of total sales over years is increasing when the brand is Hyundai."}]}]}},57:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var r=a(21),n=a(15),s=a(16),o=a(17),i=a(18),c=a(0),u=a.n(c),l=a(55),p=(a(392),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.initDone,a=e.intl;return u.a.createElement("div",{className:"ErrorView"},u.a.createElement("div",null),u.a.createElement("p",null,t&&a.get("empty")))}}]),a}(c.PureComponent)),f=a(277),d=a.n(f),h=a(185),m=a.n(h),g=(a(120),new Map),b=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).titleRef=u.a.createRef(),e.debounceTimer=null,e.containerNodes={width:0,height:0},e.onResize=function(){window.addEventListener("resize",(function(){e.debounceTimer&&clearTimeout(debounceTimer),setTimeout((function(){e.forceUpdate()}),1e3)}))},e.setFactId=function(e,t){return m.a.cloneDeep(e).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{id:"".concat(t,"QA").concat(d()())})}))},e.fullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},e.reorder=function(e,t){for(var a=t,r=[],n=0;n<a;){for(var s=0;s<e.length;s+=a){var o=e[s+n];void 0!==o&&r.push(o)}n++}return r},e.endEdit=function(t){var a=g.get(t).current;if(a){var r=e.props.cachedQA;r[t]&&(r[t].question=a.innerHTML),e.props.saveCachedDecomposedQA(r)}},e.setSubTitleRef=function(e){return g.set(e,u.a.createRef()),g.get(e)},e.setContainerRef=function(t){if(t){e.containerNodes={width:t.clientWidth,height:t.clientHeight-55}}},e.endTitleEdit=function(){var t=e.titleRef.current;if(t){var a=t.innerHTML;a!==e.props.editedTitle&&e.props.editTitle(a)}},e.export=function(){window.print()},e.getTitle=function(){var t=e.props,a=t.askedQuestion,r=t.editedTitle,n=r||a;return n.slice(0,1).toUpperCase()+n.slice(1)},e.isCanGetSize=function(){return e.preContainerNodes={width:0,height:0},!(!e.containerNodes||0===e.containerNodes.width||0===e.containerNodes.height)&&(e.preContainerNodes=m.a.cloneDeep(e.containerNodes),!0)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"componentDidUpdate",value:function(){this.preContainerNodes&&this.containerNodes&&(this.preContainerNodes.width===this.containerNodes.width&&this.preContainerNodes.height===this.containerNodes.height||this.forceUpdate())}},{key:"render",value:function(){var e=this,t=this.props,a=t.initDone,r=t.intl,n=t.isEdit,s=t.decomposedQA,o=t.loading,i=t.isUpdateLayout;if(!s)return null;var c=function(){return u.a.createElement("div",{className:"title"},u.a.createElement("h1",{contentEditable:n,title:e.getTitle(),suppressContentEditableWarning:!0,onBlur:function(){return e.endTitleEdit()},ref:e.titleRef},"".concat(e.getTitle()||a&&r.get("inputHint"))),u.a.createElement("div",{className:"fullscreen_icon",onClick:e.fullscreen}),u.a.createElement("div",{className:"export_icon",onClick:e.export}))},f=function(t){var a=t.index,r=t.subQustion,n=t.isEdit,s=r.slice(0,1).toUpperCase()+r.slice(1);return u.a.createElement("div",{className:"sub-title-box"},u.a.createElement("div",{className:"right-box"},u.a.createElement("div",{className:s===e.getTitle()?"right-top hightlight":"right-top default"})),u.a.createElement("div",{className:"sub-title",style:{borderColor:s===e.getTitle()?"#F19C0F":"#A1AEB9"}},u.a.createElement("div",{className:s===e.getTitle()?"index hightlight":"index default"},a+1),u.a.createElement("h1",{contentEditable:n,suppressContentEditableWarning:!0,title:"".concat(s),onBlur:function(){return e.endEdit(a)},ref:e.setSubTitleRef(a)},"".concat(s))))},d=4===s.length?2:s.length;return u.a.createElement("div",{className:"large-size-screen"},u.a.createElement(c,this.props),u.a.createElement("div",{className:"auto-layout",style:{columnCount:d}},u.a.createElement("div",{className:"dec1"}),u.a.createElement("div",{className:"dec2"}),s.length>0?this.reorder(s,d).map((function(t,a){return u.a.createElement("div",{className:"subView",key:t.id,style:{height:4===s.length?"calc(50% - 15px)":"100%",width:"100%"},ref:function(t){return e.setContainerRef(t)}},u.a.createElement("div",{className:"d1"}),u.a.createElement("div",{className:"d2"}),s.length>1&&u.a.createElement(f,{index:t.id,subQustion:t.question,isEdit:n}),e.isCanGetSize()?u.a.createElement(l.default,Object.assign({QAID:a,containerSize:e.containerNodes,facts:e.setFactId(t.facts,a),columnNum:s.length,isUpdateLayout:i},e.props)):null)})):!o&&u.a.createElement(p,{initDone:r,intl:r})))}}]),a}(c.Component)},59:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));a(194);var r=a(203),n=a(21),s=a(161),o=a.n(s),i=a(192),c=a(15),u=a(16),l=a(40),p=a(17),f=a(18),d=a(0),h=a.n(d),m=a(57),g=a(287),b=a(56),v=a(204),y=(a(121),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return(e=t.call.apply(t,[this].concat(s))).state={question:e.props.question,decomposedQA:[],loading:!1},e.getData=function(){var t=Object(i.a)(o.a.mark((function t(a){var r,n,s,i,c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.fileName,n={file_name:r,question:a,model:""},e.setState({loading:!0}),s=Object(l.a)(e),0===e.replaceData(a).length){t.next=8;break}return i=e.addParams(e.replaceData(a)),setTimeout((function(){s.setState({loading:!1,decomposedQA:i}),e.props.updateQuestion(a),e.props.saveCachedDecomposedQA(i)}),1e3),t.abrupt("return");case 8:return e.props.updateQuestion(a),t.next=11,v.a(n);case 11:if((c=t.sent).data&&"talk-generator error"!==c.data){t.next=15;break}return e.setState({loading:!1,decomposedQA:[]}),t.abrupt("return");case 15:u=e.addParams(c.data.story),e.setState({loading:!1,decomposedQA:u}),e.props.saveCachedDecomposedQA(u);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.replaceData=function(e){return console.log("question",e),"how is the sales?"===e||"How is the sales?"===e?b.default.story1:"does any brand sell a lot and has an increasing trend?"===e||"Does any brand sell a lot and has an increasing trend?"===e?b.default.story2:[]},e.constructGroupBy=function(e){return e.map((function(e){return e.field}))},e.getFakeScript=function(e,t){var a="";return"in which category has the highest sales and which the lowest "===e?a="in which category has the highest sales and which the lowest ":"sales has an overall value of sales over year "===e?a="sales has an overall value of sales over year ":"sales have an overall value of sales "===e&&(a="sales have an overall value of sales "),("Does any brand sell a lot but has a decreasing trend"===e||"which brand has the highest sales and which brand has the lowest sales "===e||"which brand has an increasing trend of sales over brand "===e)&&(a=["caption1","caption2","caption3"][t]),a},e.getFakeFocus=function(e,t,a){return"which brand has the highest sales and which brand has the lowest sales "===e&&(a[0].value="Ford"),"which brand has the highest sales and which has the lowest "===e&&(a[0].value="Ford"),"in which category has the highest sales and which the lowest "===e&&(a[0].value="SUV"),a},e.addParams=function(t){return t.map((function(t,a){return{question:t.question,id:a,facts:t.facts.map((function(t){return t.chart&&""!==t.chart||(t.groupby=e.constructGroupBy(t.breakdown),t.chart=Object(g.b)(e.props.schema,t)),Object(n.a)(Object(n.a)({},t),{},{groupby:t.breakdown[0]?[t.breakdown[0].field]:[]})}))}}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cachedQA,a=e.question;t?this.setState({decomposedQA:t}):this.getData(a)}},{key:"componentWillReceiveProps",value:function(e){if(e.question!==this.state.question)this.setState({question:e.question}),this.getData(e.question);else{var t=e.cachedQA;if(!t)return null;this.setState({decomposedQA:t})}}},{key:"render",value:function(){var e=this.state,t=e.decomposedQA,a=e.question,n=e.loading,s=this.props,o=s.initDone,i=s.intl;return h.a.createElement("div",{className:"Dashboard spin-center"},n&&h.a.createElement(r.a,{tip:o&&i.get("Coverting")}),h.a.createElement(m.default,Object.assign({loading:n,askedQuestion:a,decomposedQA:t},this.props)))}}]),a}(d.Component))}}]);
//# sourceMappingURL=25.cf184a15.chunk.js.map
(this.webpackJsonptalk2data=this.webpackJsonptalk2data||[]).push([[14,19,25,58,59,60],{116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},142:function(e,t,a){"use strict";var r=a(188),n=Object.prototype.toString;function o(e){return"[object Array]"===n.call(e)}function u(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function i(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===n.call(e)}function p(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:i,isUndefined:u,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:p,merge:function e(){var t={};function a(a,r){i(t[r])&&i(a)?t[r]=e(t[r],a):i(a)?t[r]=e({},a):o(a)?t[r]=a.slice():t[r]=a}for(var r=0,n=arguments.length;r<n;r++)p(arguments[r],a);return t},extend:function(e,t,a){return p(t,(function(t,n){e[n]=a&&"function"===typeof t?r(t,a):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},162:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o}));var r=a(0),n=r.isValidElement;function o(e,t){return function(e,t,a){return n(e)?r.cloneElement(e,"function"===typeof a?a(e.props||{}):a):t}(e,e,t)}},176:function(e,t,a){"use strict";var r="https://".concat("talk-api.idvxlab.com:8006"),n="https://".concat("talk-api.idvxlab.com:8006"),o={url:{uploadPrefix:r,uploadData:"".concat(r,"/upload"),share:"".concat(r,"/share"),fetch:"".concat(r,"/data/share"),factScoring:"".concat(n,"/fact"),generate:"".concat(n,"/generate"),candidateQuestions:"https://".concat("talk-api.idvxlab.com:8006","/column2questions")}};t.a=o},184:function(e,t,a){"use strict";t.a={VALUE:"value",TREND:"trend",CATEGORIZATION:"categorization",DIFFERENCE:"difference",PROPORTION:"proportion",DISTRIBUTION:"distribution",RANK:"rank",ASSOCIATION:"association",EXTREME:"extreme",OUTLIER:"outlier"}},187:function(e,t,a){"use strict";t.a={JUXTAPOSITION:"juxtaposition",AREA_CHART:"Area Chart",VERTICAL_BAR_CHART:"Vertical Bar Chart",VERTICAL_DIFFERENCE_BAR_CHART:"Vertical Difference Bar Chart",VERTICAL_DIFFERENCE_ARROW_CHART:"Vertical Difference Arrow Chart",HORIZONTAL_BAR_CHART:"Horizontal Bar Chart",PROGRESS_BAR_CHART:"Progress Bar Chart",STACKED_BAR_CHART:"Stacked Bar Chart",ISOTYPE_BAR_CHART:"Isotype Bar Chart",PROPORTION_ISOTYPE_CHART:"Proportion Isotype Chart",COLOR_FILLING_MAP:"Color Filling Map",BUBBLE_CHART:"Bubble Chart",TEXT_CHART:"Text Chart",LINE_CHART:"Line Chart",STACKED_LINE_CHART:"Stacked Line Chart",RING_CHART:"Ring Chart",HALF_RING_CHART:"Half Ring Chart",PIE_CHART:"Pie Chart",SCATTER_PLOT:"Scatter Plot",TREE_MAP:"Treemap",BUBBLE_MAP:"Bubblemap"}},188:function(e,t,a){"use strict";e.exports=function(e,t){return function(){for(var a=new Array(arguments.length),r=0;r<a.length;r++)a[r]=arguments[r];return e.apply(t,a)}}},189:function(e,t,a){"use strict";var r=a(142);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,a){if(!t)return e;var o;if(a)o=a(t);else if(r.isURLSearchParams(t))o=t.toString();else{var u=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),u.push(n(t)+"="+n(e))})))})),o=u.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},190:function(e,t,a){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},191:function(e,t,a){"use strict";(function(t){var r=a(142),n=a(229),o={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=a(192)),e}(),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(u(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s}).call(this,a(206))},192:function(e,t,a){"use strict";var r=a(142),n=a(230),o=a(232),u=a(189),s=a(233),i=a(236),c=a(237),p=a(193);e.exports=function(e){return new Promise((function(t,a){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"],(r.isBlob(l)||r.isFile(l))&&l.type&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",y=unescape(encodeURIComponent(e.auth.password))||"";f.Authorization="Basic "+btoa(d+":"+y)}var g=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),u(g,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?i(h.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};n(t,a,o),h=null}},h.onabort=function(){h&&(a(p("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){a(p("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),a(p(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in h&&r.forEach(f,(function(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(m){if("json"!==e.responseType)throw m}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),a(e),h=null)})),l||(l=null),h.send(l)}))}},193:function(e,t,a){"use strict";var r=a(231);e.exports=function(e,t,a,n,o){var u=new Error(e);return r(u,t,a,n,o)}},194:function(e,t,a){"use strict";var r=a(142);e.exports=function(e,t){t=t||{};var a={},n=["url","method","data"],o=["headers","auth","proxy","params"],u=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(n){r.isUndefined(t[n])?r.isUndefined(e[n])||(a[n]=i(void 0,e[n])):a[n]=i(e[n],t[n])}r.forEach(n,(function(e){r.isUndefined(t[e])||(a[e]=i(void 0,t[e]))})),r.forEach(o,c),r.forEach(u,(function(n){r.isUndefined(t[n])?r.isUndefined(e[n])||(a[n]=i(void 0,e[n])):a[n]=i(void 0,t[n])})),r.forEach(s,(function(r){r in t?a[r]=i(e[r],t[r]):r in e&&(a[r]=i(void 0,e[r]))}));var p=n.concat(o).concat(u).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===p.indexOf(e)}));return r.forEach(l,c),a}},195:function(e,t,a){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},196:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return h}));var r=a(156),n=a.n(r),o=a(172),u=a(176),s=a(222),i=a.n(s);function c(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){i()({method:"post",url:"".concat(u.a.url.uploadData),config:{headers:{"Content-Type":"multipart/form-data"}},data:t}).then((function(t){t.status>=400?a():200===t.status||201===t.status||204===t.status?e(t.data):a()})).catch((function(e){a()}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return i()({method:"post",url:"".concat(u.a.url.generate),config:{headers:{"Content-Type":"application/json; charset=utf-8"}},data:e})}function f(e){return i()({method:"post",url:"".concat(u.a.url.candidateQuestions),config:{headers:{"Content-Type":"application/json; charset=utf-8"}},data:e})}function h(e){return i()({method:"post",url:"/generatePDF",param:{},data:e})}},199:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t}},207:function(e,t,a){"use strict";t.a={NUMERICAL:"numerical",CATEGORICAL:"categorical",TEMPORAL:"temporal",GEOGRAPHICAL:"geographical"}},220:function(e,t,a){"use strict";function r(e,t){return e===t}function n(e,t,a){if(null===t||null===a||t.length!==a.length)return!1;for(var r=t.length,n=0;n<r;n++)if(!e(t[n],a[n]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var a=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+a+"]")}return t}a.d(t,"d",(function(){return T})),a.d(t,"l",(function(){return v})),a.d(t,"b",(function(){return C})),a.d(t,"j",(function(){return A})),a.d(t,"g",(function(){return F})),a.d(t,"f",(function(){return R})),a.d(t,"h",(function(){return E})),a.d(t,"a",(function(){return O})),a.d(t,"i",(function(){return x})),a.d(t,"e",(function(){return S})),a.d(t,"c",(function(){return k})),a.d(t,"k",(function(){return w}));var u=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var u=0,s=r.pop(),i=o(r),c=e.apply(void 0,[function(){return u++,s.apply(null,arguments)}].concat(a)),p=e((function(){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a].apply(null,arguments));return c.apply(null,e)}));return p.resultFunc=s,p.dependencies=i,p.recomputations=function(){return u},p.resetRecomputations=function(){return u=0},p}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,a=null,o=null;return function(){return n(t,a,arguments)||(o=e.apply(null,arguments)),a=arguments,o}}));var s=a(138),i=a(182),c=a.n(i),p=function(e,t){var a,r,n=e.type===t.type?1:0,o=e.measure.map((function(e){return e.field})),u=t.measure.map((function(e){return e.field}));if(0===o.length&&0===u.length)a=1;else{var s=o.filter((function(e){return u.includes(e)})),i=o.length>u.length?o:u;a=s.length/i.length}var c,p=e.subspace.map((function(e){return e.field})),l=t.subspace.map((function(e){return e.field}));if(0===p.length&&0===l.length)r=1;else{var f=p.filter((function(e){return l.includes(e)})),h=p.length>l.length?p:l;r=f.length/h.length}var d,y=e.groupby,g=t.groupby;if(0===y.length&&0===g.length)c=1;else{var b=y.filter((function(e){return g.includes(e)})),m=y.length>g.length?y:g;c=b.length/m.length}var T=e.focus.map((function(e){return e.value})),v=t.focus.map((function(e){return e.value}));if(0===T.length&&0===v.length)d=0;else{var C=T.filter((function(e){return v.includes(e)})),A=T.length>v.length?T:v;d=C.length/A.length}return.2*n+.2*a+.2*r+.2*c+.2*d},l=function(e,t){return 1-p(e,t)},f=function(e,t,a){this.distance=e,this.linkage=t,this.threshold=void 0===a?1/0:a};f.prototype={cluster:function(e,t,a){this.clusters=[],this.dists=[],this.mins=[],this.index=[];for(var r=0;r<e.length;r++){var n={value:e[r],key:r,index:r,size:1};this.clusters[r]=n,this.index[r]=n,this.dists[r]=[],this.mins[r]=0}for(var o=0;o<this.clusters.length;o++)for(var u=0;u<=o;u++){var s=o===u?1/0:this.distance(this.clusters[o].value,this.clusters[u].value);this.dists[o][u]=s,this.dists[u][o]=s,s<this.dists[o][this.mins[o]]&&(this.mins[o]=u)}for(var i=this.mergeClosest(),c=0;i;)a&&c++%t===0&&a(this.clusters),i=this.mergeClosest();return this.clusters.forEach((function(e){delete e.key,delete e.index})),this.clusters},mergeClosest:function(){for(var e=0,t=1/0,a=0;a<this.clusters.length;a++){var r=this.clusters[a].key,n=this.dists[r][this.mins[r]];n<t&&(e=r,t=n)}if(t>=this.threshold)return!1;var o=this.index[e],u=this.index[this.mins[e]],s={left:o,right:u,key:o.key,size:o.size+u.size};this.clusters[o.index]=s,this.clusters.splice(u.index,1),this.index[o.key]=s;for(var i=0;i<this.clusters.length;i++){var c=this.clusters[i],p=void 0;o.key===c.key?p=1/0:"single"===this.linkage?(p=this.dists[o.key][c.key],this.dists[o.key][c.key]>this.dists[u.key][c.key]&&(p=this.dists[u.key][c.key])):"complete"===this.linkage?(p=this.dists[o.key][c.key],this.dists[o.key][c.key]<this.dists[u.key][c.key]&&(p=this.dists[u.key][c.key])):p="average"===this.linkage?(this.dists[o.key][c.key]*o.size+this.dists[u.key][c.key]*u.size)/(o.size+u.size):this.distance(c.value,o.value),this.dists[o.key][c.key]=this.dists[c.key][o.key]=p}for(var l=0;l<this.clusters.length;l++){var f=this.clusters[l].key;if(this.mins[f]===o.key||this.mins[f]===u.key){for(var h=f,d=0;d<this.clusters.length;d++){var y=this.clusters[d].key;this.dists[f][y]<this.dists[f][h]&&(h=y)}this.mins[f]=h}this.clusters[l].index=l}return delete o.key,delete u.key,delete o.index,delete u.index,!0}};var h=a(144),d=[{"Fact Type 1":"distribution","Fact Type 2":"distribution",Chart:"Stacked Bar Chart",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"difference",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"difference"},{"Fact Type 1":"distribution","Fact Type 2":"rank",Chart:"Horizontal Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"rank"},{"Fact Type 1":"distribution","Fact Type 2":"categorization",Chart:"Isotype Bar Chart",Measure:"distribution",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"extreme",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"distribution","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"outlier",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"distribution","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"trend",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"distribution",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"difference"},{"Fact Type 1":"difference","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"trend",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"difference"},{"Fact Type 1":"rank","Fact Type 2":"distribution",Chart:"Horizontal Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"rank"},{"Fact Type 1":"rank","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"extreme",Chart:"Horizontal Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"rank"},{"Fact Type 1":"rank","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"trend",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"distribution",Chart:"Isotype Bar Chart",Measure:"distribution",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"extreme",Chart:"Isotype Bar Chart",Measure:"extreme",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"categorization","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"outlier",Chart:"Isotype Bar Chart",Measure:"outlier",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"categorization","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"trend",Chart:"Isotype Bar Chart",Measure:"trend",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"value","Fact Type 2":"distribution",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"trend",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"distribution",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"extreme","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"rank",Chart:"Horizontal Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"rank"},{"Fact Type 1":"extreme","Fact Type 2":"categorization",Chart:"Isotype Bar Chart",Measure:"extreme",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"extreme","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"outlier",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme+outlier"},{"Fact Type 1":"extreme","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"trend",Chart:"Line Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"proportion","Fact Type 2":"distribution",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"trend",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"distribution",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"outlier","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"categorization",Chart:"Isotype Bar Chart",Measure:"outlier",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"outlier","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"extreme",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme+outlier"},{"Fact Type 1":"outlier","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"trend",Chart:"Line Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"association","Fact Type 2":"distribution",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"trend",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"distribution",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"difference",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"difference"},{"Fact Type 1":"trend","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"categorization",Chart:"Isotype Bar Chart",Measure:"trend",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"extreme",Chart:"Line Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"trend","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"outlier",Chart:"Line Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"trend","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"trend",Chart:"Stacked Line Chart",Measure:"",Subspace:"",Groupby:"",Focus:""}],y=a(187),g=function(e,t){for(var a=e.slice(),r=0;r<a.length;r++)a[r].index=r,a[r].aggregated=!1,a[r].aggregatedFact=null;var n=function e(t){var a=[];if(!t)return a;if(t.size>2){var r=e(t.left),n=e(t.right);a.push.apply(a,Object(h.a)(r)),a.push.apply(a,Object(h.a)(n))}else 2===t.size?a.push([t.left.value,t.right.value]):a.push([t.value]);return a}(function(e,t,a,r,n){var o=new f(l,t=t||"average",a).cluster(e,r,n);return void 0===a?o[0]:o}(a)).filter((function(e){return e.length>1}));n.sort((function(e,t){return p(t[0],t[1])-p(e[0],e[1])}));var o,u=parseInt((n.length+1)*t),i=n.slice(0,u),c=Object(s.a)(i);try{for(c.s();!(o=c.n()).done;){var d=o.value,y=d[0].index<d[1].index?d[0].index:d[1].index,g=d[0].index>d[1].index?d[0].index:d[1].index;a[y]=b(a[y],a[g]),a[g].aggregated=!0,a[g].aggregatedFact=null}}catch(m){c.e(m)}finally{c.f()}return a},b=function(e,t){var a=d.filter((function(a){return a["Fact Type 1"]===e.type&&a["Fact Type 2"]===t.type}))[0],r=c.a.cloneDeep(e);if(r.aggregated=!0,r.aggregatedFact=c.a.cloneDeep(t),r.compoundType=[e.type,t.type],r.compoundChart=y.a.JUXTAPOSITION,r.score+=r.aggregatedFact.score,a.chart===y.a.JUXTAPOSITION)return r;if(a.chart===y.a.STACKED_BAR_CHART)return r.compoundChart=y.a.STACKED_BAR_CHART,r;if(a.chart===y.a.STACKED_LINE_CHART)return r.compoundChart=y.a.STACKED_LINE_CHART,r;if("equal"===a.Measure&&!m(new Set(e.measure.map((function(e){return e.field}))),new Set(t.measure.map((function(e){return e.field})))))return r;if("equal"===a.Subspace&&!m(new Set(e.subspace.map((function(e){return e.field+"++"+e.value}))),new Set(t.subspace.map((function(e){return e.field+"++"+e.value})))))return r;if("equal"===a.Groupby&&!m(new Set(e.groupby),new Set(t.groupby)))return r;if("equal"===a.Focus&&!m(new Set(e.focus.map((function(e){return e.field+"++"+e.value}))),new Set(t.focus.map((function(e){return e.field+"++"+e.value})))))return r;return r.compoundChart=a.Chart,"equal"!==a.Measure&&""!==a.Measure&&(e.type===a.Measure?r.measure=e.measure:r.measure=t.measure),"equal"!==a.Subspace&&""!==a.Subspace&&(e.type===a.Subspace?r.subspace=e.subspace:r.subspace=t.subspace),"equal"!==a.Groupby&&""!==a.Groupby&&(e.type===a.Groupby?r.groupby=e.groupby:r.groupby=t.groupby),"equal"!==a.Focus&&""!==a.Focus&&(e.type===a.Focus?r.focus=e.focus:r.focus=t.focus),r};function m(e,t){if(e.size!==t.size)return!1;var a,r=Object(s.a)(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(!t.has(n))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}var T=function(e){return e.story.fileName},v=function(e){return e.story.title},C=function(e){return e.story.data},A=function(e){return e.story.schema},F=function(e){return e.story.relations},R=function(e){return e.story.maxStoryLength},E=function(e){return e.story.resultCoverage},O=function(e){return e.story.aggregationLevel},x=function(e){return e.story.rewardWeight},S=function(e){return e.story.generateProgress},k=u((function(e){return e.story.facts}),O,(function(e,t){return g(e,t)})),w=u(R,(function(e){return e.story.information}),(function(e){return e.story.chartDiversity}),(function(e){return e.story.timeLimit}),(function(e,t,a,r){return{maxStoryLength:e,information:t,chartDiversity:a,timeLimit:r}}))},222:function(e,t,a){e.exports=a(224)},224:function(e,t,a){"use strict";var r=a(142),n=a(188),o=a(225),u=a(194);function s(e){var t=new o(e),a=n(o.prototype.request,t);return r.extend(a,o.prototype,t),r.extend(a,t),a}var i=s(a(191));i.Axios=o,i.create=function(e){return s(u(i.defaults,e))},i.Cancel=a(195),i.CancelToken=a(238),i.isCancel=a(190),i.all=function(e){return Promise.all(e)},i.spread=a(239),e.exports=i,e.exports.default=i},225:function(e,t,a){"use strict";var r=a(142),n=a(189),o=a(226),u=a(227),s=a(194);function i(e){this.defaults=e,this.interceptors={request:new o,response:new o}}i.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[u,void 0],a=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)a=a.then(t.shift(),t.shift());return a},i.prototype.getUri=function(e){return e=s(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){i.prototype[e]=function(t,a){return this.request(s(a||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){i.prototype[e]=function(t,a,r){return this.request(s(r||{},{method:e,url:t,data:a}))}})),e.exports=i},226:function(e,t,a){"use strict";var r=a(142);function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},227:function(e,t,a){"use strict";var r=a(142),n=a(228),o=a(190),u=a(191);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||u.adapter)(e).then((function(t){return s(e),t.data=n(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},228:function(e,t,a){"use strict";var r=a(142);e.exports=function(e,t,a){return r.forEach(a,(function(a){e=a(e,t)})),e}},229:function(e,t,a){"use strict";var r=a(142);e.exports=function(e,t){r.forEach(e,(function(a,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=a,delete e[r])}))}},230:function(e,t,a){"use strict";var r=a(193);e.exports=function(e,t,a){var n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(r("Request failed with status code "+a.status,a.config,null,a.request,a)):e(a)}},231:function(e,t,a){"use strict";e.exports=function(e,t,a,r,n){return e.config=t,a&&(e.code=a),e.request=r,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},232:function(e,t,a){"use strict";var r=a(142);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,a,n,o,u){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(a)&&s.push("expires="+new Date(a).toGMTString()),r.isString(n)&&s.push("path="+n),r.isString(o)&&s.push("domain="+o),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},233:function(e,t,a){"use strict";var r=a(234),n=a(235);e.exports=function(e,t){return e&&!r(t)?n(e,t):t}},234:function(e,t,a){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},235:function(e,t,a){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},236:function(e,t,a){"use strict";var r=a(142),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,a,o,u={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),a=r.trim(e.substr(o+1)),t){if(u[t]&&n.indexOf(t)>=0)return;u[t]="set-cookie"===t?(u[t]?u[t]:[]).concat([a]):u[t]?u[t]+", "+a:a}})),u):u}},237:function(e,t,a){"use strict";var r=a(142);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");function n(e){var r=e;return t&&(a.setAttribute("href",r),r=a.href),a.setAttribute("href",r),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}return e=n(window.location.href),function(t){var a=r.isString(t)?n(t):t;return a.protocol===e.protocol&&a.host===e.host}}():function(){return!0}},238:function(e,t,a){"use strict";var r=a(195);function n(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var a=this;e((function(e){a.reason||(a.reason=new r(e),t(a.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},239:function(e,t,a){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},24:function(e,t,a){"use strict";a.r(t);var r=a(19),n=a(220),o=a(487),u=a(367),s=a(400),i=a(39),c=a(292),p=a(55);t.default=Object(r.b)((function(e){return{schema:Object(n.j)(e),relations:Object(n.g)(e),data:Object(n.b)(e),title:Object(n.l)(e),resultCoverage:Object(n.h)(e),fileName:Object(n.d)(e),storyParameter:Object(n.k)(e),maxStoryLength:Object(n.f)(e),rewardWeight:Object(n.i)(e),aggregationLevel:Object(n.a)(e),generateProgress:Object(n.e)(e),cachedQA:Object(o.a)(e),isUpdateLayout:Object(o.c)(e),editedTitle:Object(o.b)(e)}}),(function(e){return{uploadData:function(t,a,r){return e(u.a(t,a,r))},generateStory:function(t,a,r){return e(s.a(t,a,r))},updateProgress:function(t,a){return e(s.b(t,a))},updateQuestion:function(t){return e(c.b(t))},saveCachedDecomposedQA:function(t){return e(c.a(t))},updateCovertType:function(t){return e(i.d(t))},updateOperation:function(t){return e(i.f(t))},editTitle:function(t){return e(i.b(t))}}}))(p.default)},256:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return p}));var r=a(184),n=a(277),o=function(e,t,a){var r=n.a.filter((function(t){return t.fact===e}));if(t&&(r=r.filter((function(e){return e.chart===t}))),0===r.length)return[];var o=new Set;r.forEach((function(e){e.breakdownType.forEach((function(e){o.add(e)}))}));var u=Array.from(o);return a.filter((function(e){return-1!==u.indexOf(e.type)}))},u=a(138),s=function(e,t){var a,r=e,n=Object(u.a)(t);try{var o=function(){var e=a.value;r=r.filter((function(t){return t[e.field]===e.value}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}return r},i=a(151),c=function(e){var t=!1;switch(e.type){case r.a.ASSOCIATION:2===e.measure.length&&(t=!0);break;case r.a.CATEGORIZATION:e.groupby.length&&(t=!0);break;case r.a.DIFFERENCE:e.measure.length&&e.groupby.length&&e.focus.length>=2&&(t=!0);break;case r.a.DISTRIBUTION:e.measure.length&&e.groupby.length&&(t=!0);break;case r.a.EXTREME:case r.a.OUTLIER:case r.a.PROPORTION:e.measure.length&&e.groupby.length&&e.focus.length&&(t=!0);break;case r.a.RANK:case r.a.TREND:e.measure.length&&e.groupby.length&&(t=!0);break;case r.a.VALUE:e.measure.length&&(t=!0)}return t},p=function(e,t,a){var n=Object.assign({},e);switch(e.type){case r.a.ASSOCIATION:if(n.focus=[],t&&a){var u=o(e.type,e.chart,t);0===n.groupby.length&&u.length>0&&(n.groupby=[u[0].field]);var i=t.filter((function(e){return"numerical"===e.type}));0===n.measure.length&&i.length>0&&(n.measure=[{field:i[0].field,aggregate:"count"}]),1===n.measure.length&&n.measure.push({field:"COUNT",aggregate:"count"})}break;case r.a.CATEGORIZATION:if(n.measure=[],n.focus=[],t&&a){var c=o(e.type,e.chart,t);0===n.groupby.length&&c.length>0&&(n.groupby=[c[0].field])}break;case r.a.DIFFERENCE:if(t&&a){var p=o(e.type,e.chart,t),l=h(a,e.groupby);0===n.groupby.length&&p.length>0&&(n.groupby=[p[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}]),n.focus.length||(n.focus=[{field:n.groupby[0],value:l[0]},{field:n.groupby[0],value:l[1]}])}break;case r.a.DISTRIBUTION:if(n.focus=[],t&&a){var d=o(e.type,e.chart,t);0===n.groupby.length&&d.length>0&&(n.groupby=[d[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}])}break;case r.a.EXTREME:if(t&&a){var y=o(e.type,e.chart,t);if(0===n.groupby.length&&y.length>0&&(n.groupby=[y[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}]),n.measure.length&&n.groupby.length){var g={y:{}};g.y.field=n.measure[0].field,g.y.aggregation=n.measure[0].aggregate,g.x={},g.x.field=n.groupby[0];var b=s(a,n.subspace),m=f(b,g),T=n.measure[0].field,v=m.reduce((function(e,t){return e[T]>t[T]?e:t}));n.focus.length||(n.focus=[{field:n.groupby[0],value:v[n.groupby[0]],extremeFocus:"max",extremeValue:v[n.measure[0].field]}])}}break;case r.a.OUTLIER:if(t&&a){var C=o(e.type,e.chart,t);if(0===n.groupby.length&&C.length>0&&(n.groupby=[C[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}]),n.measure.length&&n.groupby.length){var A={y:{}};A.y.field=n.measure[0].field,A.y.aggregation=n.measure[0].aggregate,A.x={},A.x.field=n.groupby[0];var F=s(a,n.subspace),R=f(F,A),E=R.sort((function(e,t){return t[A.y.field]-e[A.y.field]})).map((function(e){return e[A.x.field]})),O=R.sort((function(e,t){return t[A.y.field]-e[A.y.field]})).map((function(e){return e[A.y.field]})),x=O.length,S=parseInt(.25*(x-1)),k=parseInt(.75*(x-1)),w=.25*(x-1)-S,I=.75*(x-1)-k,L=O[S]+(O[S+1]-O[S])*w,G=O[k]+(O[k+1]-O[k])*I,N=G-1.5*(L-G),M=L+1.5*(L-G),j=[];O.forEach((function(e,t){(e>M||e<N)&&j.push(t)})),!n.focus.length&&j.length&&(n.focus=[{field:e.groupby[0],value:E[j[0]]}])}}break;case r.a.PROPORTION:if(t&&a){var _=o(e.type,e.chart,t);if(0===n.groupby.length&&_.length>0&&(n.groupby=[_[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}]),n.measure.length&&n.groupby.length){var q={y:{}};q.y.field=n.measure[0].field,q.y.aggregation=n.measure[0].aggregate,q.x={},q.x.field=n.groupby[0];var P=s(a,n.subspace),H=f(P,q),B=n.measure[0].field,U=H.reduce((function(e,t){return e[B]>t[B]?e:t}));n.focus.length||(n.focus=[{field:n.groupby[0],value:U[n.groupby[0]]}])}}break;case r.a.RANK:if(n.focus=[],t&&a){var D=o(n.type,n.chart,t);0===n.groupby.length&&D.length>0&&(n.groupby=[D[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}])}break;case r.a.TREND:if(n.focus=[],t&&a){var z=t.filter((function(e){return"temporal"===e.type})),V=z.map((function(e){return e.field}));0===z.length?n.groupby=[]:0!==n.groupby.length&&-1!==V.indexOf(n.groupby[0])||(n.groupby=[z[0].field]),0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}])}break;case r.a.VALUE:n.groupby=[],n.focus=[],t&&a&&0===n.measure.length&&(n.measure=[{field:"COUNT",aggregate:"count"}])}return n},l=function(e,t){return i.nest().key((function(e){return e[t.x.field]})).entries(e).map((function(e,a){var r=i.scan(e.values,(function(e,a){if(e[t.y.field]&&a[t.y.field])return a[t.y.field]-e[t.y.field]}));return r>=0?e.values[r]:e.values[0]}))},f=function(e,t){var a;switch(t.y.aggregation){case"sum":a=function(e,t){var a=i.nest().key((function(e){return e[t.x.field]})).entries(e),r=new Array(a.length).fill(0);return a.map((function(e,a){e.values.forEach((function(e){r[a]+=e[t.y.field]}));var n=Object.assign({},e.values[0]);return n[t.y.field]=r[a],n}))}(e,t);break;case"avg":a=function(e,t){var a=i.nest().key((function(e){return e[t.x.field]})).entries(e),r=new Array(a.length).fill(0);return a.map((function(e,a){e.values.forEach((function(e){r[a]+=e[t.y.field]}));var n=Object.assign({},e.values[0]);return n[t.y.field]=r[a]/e.values.length,n}))}(e,t);break;case"max":a=l(e,t);break;case"min":a=function(e,t){return i.nest().key((function(e){return e[t.x.field]})).entries(e).map((function(e){var a=i.scan(e.values,(function(e,a){if(e[t.y.field]&&a[t.y.field])return e[t.y.field]-a[t.y.field]}));return a>=0?e.values[a]:e.values[0]}))}(e,t);break;case"count":a=function(e,t){var a=i.nest().key((function(e){return e[t.x.field]})).entries(e),r=new Array(a.length).fill(0);return a.map((function(e,t){e.values.forEach((function(){r[t]+=1}));var a=Object.assign({},e.values[0]);return a.COUNT=r[t],a}))}(e,t);break;default:a=l(e,t)}return a},h=function(e,t){return t?Array.from(new Set(e.map((function(e){return e[t]})))):[]}},277:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(184),n=a(187),o=a(207),u=[{fact:r.a.ASSOCIATION,chart:n.a.SCATTER_PLOT,breakdownType:[o.a.CATEGORICAL,o.a.TEMPORAL,o.a.GEOGRAPHICAL]},{fact:r.a.OUTLIER,chart:n.a.VERTICAL_BAR_CHART,breakdownType:[o.a.CATEGORICAL,o.a.TEMPORAL,o.a.GEOGRAPHICAL]},{fact:r.a.OUTLIER,chart:n.a.AREA_CHART,breakdownType:[o.a.TEMPORAL]},{fact:r.a.OUTLIER,chart:n.a.LINE_CHART,breakdownType:[o.a.TEMPORAL]},{fact:r.a.EXTREME,chart:n.a.VERTICAL_BAR_CHART,breakdownType:[o.a.CATEGORICAL,o.a.TEMPORAL,o.a.GEOGRAPHICAL]},{fact:r.a.EXTREME,chart:n.a.LINE_CHART,breakdownType:[o.a.TEMPORAL]},{fact:r.a.EXTREME,chart:n.a.AREA_CHART,breakdownType:[o.a.TEMPORAL]},{fact:r.a.PROPORTION,chart:n.a.PROGRESS_BAR_CHART,breakdownType:[o.a.CATEGORICAL,o.a.GEOGRAPHICAL,o.a.TEMPORAL]},{fact:r.a.PROPORTION,chart:n.a.PIE_CHART,breakdownType:[o.a.CATEGORICAL,o.a.GEOGRAPHICAL,o.a.TEMPORAL]},{fact:r.a.RANK,chart:n.a.HORIZONTAL_BAR_CHART,breakdownType:[o.a.CATEGORICAL,o.a.GEOGRAPHICAL,o.a.TEMPORAL]},{fact:r.a.DISTRIBUTION,chart:n.a.AREA_CHART,breakdownType:[o.a.TEMPORAL]},{fact:r.a.DISTRIBUTION,chart:n.a.VERTICAL_BAR_CHART,breakdownType:[o.a.CATEGORICAL,o.a.GEOGRAPHICAL]},{fact:r.a.DIFFERENCE,chart:n.a.HORIZONTAL_BAR_CHART,breakdownType:[o.a.CATEGORICAL,o.a.GEOGRAPHICAL,o.a.TEMPORAL]},{fact:r.a.CATEGORIZATION,chart:n.a.VERTICAL_BAR_CHART,breakdownType:[o.a.CATEGORICAL,o.a.GEOGRAPHICAL]},{fact:r.a.TREND,chart:n.a.LINE_CHART,breakdownType:[o.a.TEMPORAL]},{fact:r.a.VALUE,chart:n.a.VERTICAL_BAR_CHART}]},290:function(e,t,a){"use strict";a.d(t,"b",(function(){return A})),a.d(t,"a",(function(){return R}));var r=a(200),n=a(0),o=a.n(n),u=a(187),s=a(184),i=a(207),c=[{fact:s.a.ASSOCIATION,chart:u.a.SCATTER_PLOT,breakdownType:[i.a.CATEGORICAL,i.a.TEMPORAL,i.a.GEOGRAPHICAL]},{fact:s.a.OUTLIER,chart:u.a.AREA_CHART,breakdownType:[i.a.TEMPORAL]},{fact:s.a.OUTLIER,chart:u.a.LINE_CHART,breakdownType:[i.a.TEMPORAL]},{fact:s.a.EXTREME,chart:u.a.VERTICAL_BAR_CHART,breakdownType:[i.a.CATEGORICAL,i.a.CATEGORICAL,i.a.GEOGRAPHICAL]},{fact:s.a.EXTREME,chart:u.a.LINE_CHART,breakdownType:[i.a.TEMPORAL]},{fact:s.a.EXTREME,chart:u.a.AREA_CHART,breakdownType:[i.a.TEMPORAL]},{fact:s.a.PROPORTION,chart:u.a.PROGRESS_BAR_CHART,breakdownType:[i.a.CATEGORICAL,i.a.GEOGRAPHICAL]},{fact:s.a.PROPORTION,chart:u.a.PIE_CHART,breakdownType:[i.a.CATEGORICAL,i.a.GEOGRAPHICAL]},{fact:s.a.RANK,chart:u.a.HORIZONTAL_BAR_CHART,breakdownType:[i.a.CATEGORICAL,i.a.GEOGRAPHICAL]},{fact:s.a.DISTRIBUTION,chart:u.a.AREA_CHART,breakdownType:[i.a.TEMPORAL]},{fact:s.a.DISTRIBUTION,chart:u.a.VERTICAL_BAR_CHART,breakdownType:[i.a.CATEGORICAL,i.a.GEOGRAPHICAL]},{fact:s.a.DIFFERENCE,chart:u.a.HORIZONTAL_BAR_CHART,breakdownType:[i.a.CATEGORICAL,i.a.GEOGRAPHICAL,i.a.TEMPORAL]},{fact:s.a.CATEGORIZATION,chart:u.a.VERTICAL_BAR_CHART,breakdownType:[i.a.CATEGORICAL,i.a.GEOGRAPHICAL]},{fact:s.a.TREND,chart:u.a.LINE_CHART,breakdownType:[i.a.TEMPORAL]},{fact:s.a.VALUE,chart:u.a.VERTICAL_BAR_CHART}],p=a(277),l=function e(t,a){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=a.filter((function(e){return e.field===t.groupby[0]}))[0],u=n?p.a:c;return r=u.filter((function(e){return e.fact===t.type})),o&&(r=r.filter((function(e){return-1!==e.breakdownType.indexOf(o.type)})),o.type===i.a.CATEGORICAL&&o.values&&(r=r.filter((function(e){return!e.rang||o.values.length>=e.rang[0]&&o.values.length<=e.rang[1]}))),0!==r.length||n||(r=e(t,a,!0))),r},f=a(15),h=a(16),d=a(17),y=a(18),g=a(474),b=function(e){Object(d.a)(a,e);var t=Object(y.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.spec.chart.id,t=this.props.spec,a=e?"#vischart_".concat(e):"#demo-chart";this.autovis=new g.AutoVis,this.autovis=new g.AutoVis,this.autovis.container(a),this.autovis.load(t),this.autovis.generate()}},{key:"componentDidUpdate",value:function(e){var t=this.props.spec.chart.id,a=this.props.spec,r=t?"#vischart_".concat(t):"#demo-chart";this.autovis=new g.AutoVis,this.autovis=new g.AutoVis,this.autovis.container(r),this.autovis.load(a),this.autovis.generate()}},{key:"render",value:function(){if(this.props.spec.chart){var e=this.props.spec.chart,t=e.size;if("vegalite"===e.type){var a=this.props.spec.chart.width;.5*this.props.spec.chart.height,.5*a}else switch(t){case"wide":220,560;break;case"middle":200,360;break;case"small":150,235}}var r=(this.props.spec.chart?this.props.spec.chart:{id:"demo-chart"}).id;return o.a.createElement("div",{id:r?"vischart_".concat(r):"demo-chart",style:{height:"640",width:"640",display:"flex",alignItems:"center",justifyContent:"center"}})}}]),a}(n.Component),m=a(256),T=a(182),v=a.n(T),C=function(e){return Math.round(Math.random()*(e-1))},A=function(e,t){var a=l(t,e);return 0===a.length?null:a[C(a.length)].chart},F=function(e){var t=e;switch(e){case u.a.AREA_CHART:t="areachart";break;case u.a.BUBBLE_CHART:t="bubblechart";break;case u.a.COLOR_FILLING_MAP:t="filledmap";break;case u.a.BUBBLE_MAP:t="bubblemap";break;case u.a.HALF_RING_CHART:t="donutchart";break;case u.a.HORIZONTAL_BAR_CHART:t="horizentalbarchart";break;case u.a.VERTICAL_BAR_CHART:case u.a.STACKED_BAR_CHART:case u.a.VERTICAL_DIFFERENCE_BAR_CHART:case u.a.ISOTYPE_BAR_CHART:case u.a.VERTICAL_DIFFERENCE_ARROW_CHART:t="verticalbarchart";break;case u.a.LINE_CHART:case u.a.STACKED_LINE_CHART:t="linechart";break;case u.a.PROPORTION_ISOTYPE_CHART:case u.a.PIE_CHART:t="piechart";break;case u.a.PROGRESS_BAR_CHART:t="progresschart";break;case u.a.RING_CHART:t="donutchart";break;case u.a.SCATTER_PLOT:t="scatterplot";break;case u.a.TEXT_CHART:t="textchart";break;case u.a.TREE_MAP:t="treemap"}return t},R=function(e,t,a,n,s,i){a.chart&&""!==a.chart||(a.chart=A(e.schema,a));var c=a.chart;if(c===u.a.ISOTYPE_BAR_CHART&&(a.chart=u.a.VERTICAL_BAR_CHART),!(a=Object(m.a)(a)).chart||!Object(m.b)(a))return console.log("no valid",a),null;var p=Object(r.a)({id:t,size:s,type:F(c),style:"business",duration:0,showSuggestion:!1},i),l={data:e=Object(r.a)(Object(r.a)({},e),{},{values:n}),fact:a,chart:p};return o.a.createElement(b,{spec:v.a.cloneDeep(l)})}},292:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o}));var r=a(2),n=function(e){return{type:r.a.UPDATE_QUESTION,question:e}},o=function(e){return{type:r.a.SAVE_CACHED_QA,cachedQA:e}}},367:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(2),n=function(e,t,a){return{type:r.a.UPLOAD_DATA,fileName:e,schema:t,data:a}}},377:function(e,t,a){},400:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));var r=a(2),n=function(e,t,a){return{type:r.a.GENERATE_STORY,facts:e,relations:t,coverage:a}},o=function(e,t){return{type:r.a.UPDATE_PROGRESS,totalLength:e,currentLength:t}}},487:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return u}));var r=function(e){return e.question.question},n=function(e){return e.question.cachedQA},o=function(e){return e.question.isUpdateLayout},u=function(e){return e.question.editedTitle}},52:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return B}));var r=a(200),n=a(15),o=a(16),u=a(17),s=a(18),i=a(0),c=a.n(i),p=a(290),l=a(184),f=[{id:0,template:"The Pearson correlation between the {{measure1}} and the {{measure2}} is {{parameter}} when {{subspace}}."},{id:1,template:"When {{subspace}}, the Pearson correlation coefficient between the {{measure1}} and the {{measure2}} is {{parameter}}."},{id:2,template:"When {{subspace}}, the {{measure1}} is correlated with the {{measure2}} and the Person correlation is {{parameter}}."}],h=[{id:0,template:"When {{subspace}}, there are {{parameter}} {{groupby}}s: {{no.1}}, {{no.2}}, {{no.3}}, and {{focus}} needs to pay attention."},{id:1,template:"When {{subspace}}, the data are grouped into {{parameter}} {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}, among which {{focus}} needs to pay attention."},{id:2,template:"The data contain {{parameter}} {{groupby}}s when {{subspace}}, which are {{no.1}}, {{no.2}}, {{no.3}}. {{focus}} needs to pay attention."}],d=[{id:0,template:"The difference between {{focus1}} and {{focus2}} regarding to their {{agg}} {{measure}} is {{parameter}} when {{subspace}}."},{id:1,template:"{{focus1}} and {{focus2}}'s difference on the {{agg}} {{measure}} is {{parameter}} when {{subspace}}."},{id:2,template:"A comparison between {{focus1}} and {{focus2}} on their {{agg}} {{measure}} shows the difference is {{parameter}} when {{subspace}}."}],y=[{id:0,template:"The distribution of the {{agg}} {{measure}} over different {{groupby}}s shows an overview of the data when {{subspace}} and {{focus}} needs to pay attention."},{id:1,template:"The distribution of the {{agg}} {{measure}} over different {{groupby}}s shows an overview of the data when {{subspace}} and {{focus}} needs to pay attention."},{id:2,template:"The distribution of the {{agg}} {{measure}} over different {{groupby}}s shows an overview of the data when {{subspace}} and {{focus}} needs to pay attention."}],g=[{id:0,template:"Given {{subspace}}, the {{focus}} value of the {{agg}} {{measure}} is {{parameter[1]}} when the {{groupby}} is {{parameter[0]}}."},{id:1,template:"The {{focus}} {{agg}} {{measure}} value over {{groupby}}s is {{parameter[1]}} when the {{groupby}} is {{parameter[0]}} given {{subspace}}."},{id:2,template:"Among all {{groupby}}s, {{parameter[0]}} has the {{focus}} {{agg}} {{measure}} value, which is {{parameter[1]}}, when {{subspace}}."}],b=[{id:0,template:"The {{agg}} {{measure}} of {{focus}} is an outlier when compared with that of other {{groupby}}s when {{subspace}}."},{id:1,template:"{{focus}}'s {{agg}} {{measure}} is anomalously different from other {{groupby}}s' {{measure}} when {{subspace}}."},{id:2,template:"Among various {{groupby}}s, the {{agg}} {{measure}} of {{focus}} is an anomaly when {{subspace}}."}],m=[{id:0,template:"The {{focus}} accounts for {{parameter}} of the {{agg}} {{measure}} when {{subspace}}."},{id:1,template:"The {{focus}} makes up {{parameter}} of the {{agg}} {{measure}} when {{subspace}}."},{id:2,template:"The {{focus}}'s {{agg}} {{measure}} takes {{parameter}} of the {{agg}} {{measure}} when {{subspace}}."}],T=[{id:0,template:"In the {{agg}} {{measure}} ranking of different {{groupby}}s,  the top three {{groupby}}s are {{no.1}}, {{no.2}}, {{no.3}}, when {{subspace}}."},{id:1,template:"The ranking list of the {{groupby}}s ordered by their {{agg}} {{measure}} when {{subspace}}, in which the top three {{groupby}}s are {{no.1}}, {{no.2}}, {{no.3}}."},{id:2,template:"When sorting the {{groupby}}s in order based on their {{agg}} {{measure}}, the top three {{groupby}}s are {{no.1}}, {{no.2}}, {{no.3}} when {{subspace}}."}],v=[{id:0,template:"The trend of the {{agg}} {{measure}} over {{groupby}}s is {{parameter}} when {{subspace}} and the value of {{focus}} needs to pay attention."},{id:1,template:"The {{agg}} {{measure}} over {{groupby}}s shows a/an {{parameter}} trend when {{subspace}} and the value of {{focus}} needs to pay attention."},{id:2,template:"The {{agg}} {{measure}} over {{groupby}}s is {{parameter}} when {{subspace}} and the value of {{focus}} needs to pay attention."}],C=[{id:0,template:"The {{agg}} {{measure}} is {{parameter}} when {{subspace}}."},{id:1,template:"When {{subspace}}, the value of the {{agg}} {{measure}} is {{parameter}}."},{id:2,template:"The {{agg}} {{measure}} value is {{parameter}} when {{subspace}}."}],A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=[];switch(e){case l.a.ASSOCIATION:a=f;break;case l.a.CATEGORIZATION:a=h;break;case l.a.DIFFERENCE:a=d;break;case l.a.DISTRIBUTION:a=y;break;case l.a.EXTREME:a=g;break;case l.a.OUTLIER:a=b;break;case l.a.PROPORTION:a=m;break;case l.a.RANK:a=T;break;case l.a.TREND:a=v;break;case l.a.VALUE:a=C}-1===t&&(t=Math.floor(10*Math.random())%3);var r="";try{r=a[t].template}catch(n){console.error(n),console.log("wrong id:"+t)}return r},F=a(256),R={SUM:"sum",MAX:"max",MIN:"min",AVG:"avg",COUNT:"count"},E=a(182),O=a.n(E),x=a(475),S=function(e){switch(e){case R.SUM:return"total";case R.MAX:return"maximum";case R.MIN:return"minimum";case R.AVG:return"average";case R.COUNT:return"count";case R.NONE:default:return""}},k=function(e){return"count"===e.aggregate?"":e.field.toLowerCase()},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",a=e[0];if("single"===t)return a.toLowerCase();if("plural"===t){if(-1===a.indexOf(" of "))return x(a,2).toLowerCase();var r=a.split(" "),n=r.indexOf("of")-1;if(n>-1){var o=x(r[n],2);return a.replace(r[n],o)}}},I=function(e){var t=0,a="",r="";(e=(e||0).toString()).indexOf(".")>0?(t=(e=e.toFixed(2)).indexOf("."),a=e.substr(t),r=e.substring(0,t)):r=e;for(var n=[],o=0,u=(r=r.split("")).length-1;u>=0;u--)o++,n.unshift(r[u]),o%3||0===u||n.unshift(",");return n.join("")+a||""},L=function(e,t){var a="";return e.subspace.length?(e.subspace.map((function(e,t){return a+="".concat(0===t?" ":" and ","the ").concat(e.field," is ").concat(e.value)})),t=t.replace("{{subspace}}",a)):t=(t=(t=(t=(t=(t=(t=t.replace(", when {{subspace}}","")).replace(" when {{subspace}}","")).replace(" in case of {{subspace}}","")).replace(" given {{subspace}}","")).replace("When {{subspace}}, ","")).replace("Given {{subspace}}, ","")).replace("In case of {{subspace}}, ",""),t},G=function(e,t){if(-1===e.indexOf(t))return e;var a=e.indexOf(t)+t.length;"s"===e.substring(a,a+1)&&(a+=1);var r=e.indexOf(t),n=e.substring(0,a)+"</i></span>"+e.substring(a);return n=n.substring(0,r)+'<span class="hightlight"><i>'+n.substring(r)},N=function(e){if(!Object(F.b)(e))return"";var t,a,r=e.generatedScript;switch(e.type){case l.a.ASSOCIATION:a=r;break;case l.a.RANK:var n=e.parameter[0],o=e.parameter[1],u=e.parameter[2];a=G(r,n),o&&(a=G(a,o)),o&&u&&(a=G(a,u));break;case l.a.VALUE:case l.a.DIFFERENCE:a=G(r,e.measure[0].field.toLowerCase()),a=G(a,I(e.parameter));break;case l.a.RANK:a=G(r,"decreasing");break;case l.a.OUTLIER:a=r;break;case l.a.EXTREME:case l.a.OUTLIER:a=G(r,"maximum"),e.parameter[1]&&(a=G(a,I(e.parameter[1])));break;case l.a.DISTRIBUTION:a=r;break;case l.a.CATEGORIZATION:t=e.parameter.length.toString(),a=G(r,t);break;default:t=e.parameter,a=G(r,t)}return a},M=a(151),j=(a(116),"200"),_="150",q=new Map,P=new Map,H=null,B=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).layoutNode=c.a.createRef(),o.onResize=function(){window.addEventListener("resize",(function(){setTimeout((function(){o.updateTreeMapLayout()}),300)}))},o.updateTreeMapLayout=function(){if(o.layoutNode.current){var e=o.layoutNode.current,t=e.clientWidth,a=e.clientHeight,r=o.props.QAID,n=o.TreemapSize[r],u=n.preWidth,s=n.preHeight;(0!==t&&u!==t||s!==a&&0!==a)&&(o.forceUpdate(),o.updateTreemapSize(r,t,a))}o.batchUpdateVis(),o.svgTransformer()},o.updateTreemapSize=function(e,t,a){o.TreemapSize[e].preWidth=t,o.TreemapSize[e].preHeight=a},o.batchUpdateVis=function(){o.props.facts.map((function(e,t){if(!q.get(e.id)||!P.get(e.id))return e;var a=q.get(e.id).current,r=P.get(e.id).current,n=0,u=0,s=0;if(r&&(s=r.clientHeight),H&&H[t]){var i=H[t],c=i.x0,p=i.x1,l=i.y0;n=p-c,u=i.y1-l-s}return 0===n||0===u||(a&&o.svgTransformer(a,n,u),o.updateAVis(e,n,u,s)),e}))},o.svgTransformer=function(e,t,a){if(e){var r=Math.min(t,a)/640,n=e.children&&e.children[0];n&&(n.setAttribute("style","transform:scale(".concat(.9*r,")")),n.onmouseenter=function(){var e=o.props.isEdit;n.setAttribute("style","transform:scale(".concat(.9*r,");border:").concat(e?"1px dashed grey":""))},n.onmouseleave=function(){n.setAttribute("style","transform:scale(".concat(.9*r,")"))})}},o._isValidate=function(e,t){return!(e&&e<j||t&&t<_)},o._renderedFacts=function(e){var t=o.state,a=t.renderNum,r=t.count;return e.slice(0,a>=r?r:a)},o.updateAVis=function(e,t,a,r){var n=e.width,u=e.height,s=e.captionH;if(n!==t||u!==a||s!==r){var i=o.props.facts,c=i[i.findIndex((function(t){return t.id===e.id}))];c.width=t,c.height=a,c.captionH=r,o.setState({facts:i})}},o.weightAdapter=function(e,t){var a=e.children.length,n=[];switch(t){case 1:n=[1],2===a?n=[3,2]:3===a&&(n=[3,1.2,.8]);break;case 2:n=[1],2===a?n=[4,3]:3===a&&(n=[6,3,2]);break;case 3:n=[1],2===a?n=[3,2]:3===a&&(n=[3,1.2,.8]);break;case 4:n=[1],2===a?n=[3,2]:3===a&&(n=[4,3,2])}return{children:e.children.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{},{significance:n[t]})}))}},o.change=function(e){o.setState({renderNum:e.target.value})},o.getTreemap=function(e,t,a){return M.treemap().tile(M.treemapResquarify.ratio(1)).size([e,t]).padding(3).round(!0)(M.hierarchy(a).sum((function(e){return e.significance})))},o.sort=function(e){return e.sort((function(e,t){return t.significance-e.significance}))},o.getSize=function(){return"large"},o.setRef=function(e){return q.set(e,c.a.createRef()),q.get(e)},o.setCaptionRef=function(e){return P.set(e,c.a.createRef()),P.get(e)},o.endEdit=function(e,t,a){var r=P.get(e).current,n=o.props.cachedQA;n[parseInt(t.id.split("QA")[0])].facts[a].script=r.innerHTML,o.props.saveCachedDecomposedQA(n)},o.deleteCard=function(e,t){var a=o.props.cachedQA,r=O.a.cloneDeep(a),n=parseInt(e.id.split("QA")[0]);r[n]&&r[n].facts.splice(t,1),r[n]&&0===r[n].facts.length&&r.splice(n,1),o.props.saveCachedDecomposedQA(r)},o.state={renderNum:5,count:5,clientWidth:0,clientHeight:0,facts:o.props.facts},o.visBox=c.a.createRef(),o.TreemapSize=new Array(o.props.columnNum).fill({preWidth:0,preHeight:0}),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateTreeMapLayout(),this.onResize()}},{key:"componentDidUpdate",value:function(){this.updateTreeMapLayout()}},{key:"render",value:function(){var e=this,t=this.props,a=t.facts,n=t.data,o=t.schema,u=t.columnNum,s=t.isEdit,i=t.QAID,f=this.TreemapSize[i]?this.TreemapSize[i]:{preWidth:0,preHeight:0},h=f.preWidth,d=f.preHeight,y={children:this._renderedFacts(this.sort(a))};H=this.getTreemap(h,d,this.weightAdapter(y,u)).leaves();var g=function(t){var a=t.index,u=t.fact,i=t.x,f=t.y,h=t.width,d=t.height,y=u.script?u.script:function(e){if(!Object(F.b)(e))return"";var t=O.a.cloneDeep(e),a=A(t.type),r=R.NONE;switch(t.measure.length>0&&(r=t.measure[0].aggregate),t.type){case l.a.ASSOCIATION:a=(a=(a=(a=a.replace("{{measure1}}",k(t.measure[0]))).replace("{{measure2}}",k(t.measure[1]))).replace("{{agg1}}",S(t.measure[0].aggregate))).replace("{{agg2}}",S(t.measure[1].aggregate)),a=L(t,a),""!==t.parameter&&(a=a.replace("{{parameter}}",I(Number.parseFloat(t.parameter).toFixed(3))));break;case l.a.CATEGORIZATION:if(a=(a=a.replace("{{groupby}}s",w(t.groupby,"plural"))).replace("{{groupby}}s",w(t.groupby,"plural")),a=L(t,a),t.parameter.length){a=a.replace("{{parameter}}",I(t.parameter.length));var n="";t.parameter.forEach((function(e,t){n+="".concat(0===t?"":","," ").concat(e)})),a=a.replace("{{no.1}}, {{no.2}}, {{no.3}}",n)}if(t.focus.length)if(a.indexOf(". {{focus}}")>-1){var o=t.focus[0].value.slice(0,1).toUpperCase()+t.focus[0].value.slice(1);a=a.replace("{{focus}}",o)}else a=a.replace("{{focus}}",t.focus[0].value);else a=(a=(a=a.replace(", and {{focus}} needs to pay attention","")).replace(", among which {{focus}} needs to pay attention","")).replace(". {{focus}} needs to pay attention","");break;case l.a.DIFFERENCE:a=(a=a.replace("{{measure}}",k(t.measure[0]))).replace("{{agg}}",S(r)),t.focus.length>=2&&(a=(a=a.replace("{{focus1}}",t.focus[0].value)).replace("{{focus2}}",t.focus[1].value)),a=L(t,a),""!==t.parameter&&(a=a.replace("{{parameter}}",I(t.parameter)));break;case l.a.DISTRIBUTION:a=(a=(a=(a=(a=a.replace("{{measure}}",k(t.measure[0]))).replace("{{measure}}",k(t.measure[0]))).replace("{{agg}}",S(r))).replace("{{groupby}}s",w(t.groupby,"plural"))).replace("{{groupby}}",w(t.groupby)),a=L(t,a),a=t.focus.length?a.replace("{{focus}}",t.focus[0].value):a.replace(" and {{focus}} needs to pay attention","");break;case l.a.EXTREME:a=(a=(a=(a=(a=a.replace("{{measure}}",k(t.measure[0]))).replace("{{agg}}",S(r))).replace("{{groupby}}s",w(t.groupby,"plural"))).replace("{{groupby}}",w(t.groupby))).replace("{{groupby}}",w(t.groupby)),a=L(t,a),t.focus.length&&(void 0!==t.focus[0].extremeFocus&&void 0!==t.focus[0].extremeValue?a=(a=(a="min"===t.focus[0].extremeFocus?a.replace("{{focus}}","minimum"):a.replace("{{focus}}","maximum")).replace("{{parameter[0]}}",t.focus[0].value)).replace("{{parameter[1]}}",I(Math.round(100*t.parameter[1])/100)):t.parameter.length&&(a=(a=(a="min"===t.parameter[0]?a.replace("{{focus}}","minimum"):a.replace("{{focus}}","maximum")).replace("{{parameter[0]}}",t.focus[0].value)).replace("{{parameter[1]}}",I(t.parameter[1]))));break;case l.a.OUTLIER:a=(a=(a=(a=a.replace("{{measure}}",k(t.measure[0]))).replace("{{measure}}",k(t.measure[0]))).replace("{{groupby}}s",w(t.groupby,"plural"))).replace("{{agg}}",S(r)),a=L(t,a),t.focus.length&&(a=a.replace("{{focus}}",t.focus[0].value));break;case l.a.PROPORTION:a=(a=(a=(a=a.replace("{{measure}}",k(t.measure[0]))).replace("{{agg}}",S(r))).replace("{{measure}}",k(t.measure[0]))).replace("{{agg}}",S(r)),a=L(t,a),t.focus.length&&(a=a.replace("{{focus}}",t.focus[0].value)),t.parameter&&(a=a.replace("{{parameter}}",t.parameter));break;case l.a.RANK:a=(a=(a=(a=a.replace("{{measure}}",k(t.measure[0]))).replace("{{agg}}",S(r))).replace("{{groupby}}s",w(t.groupby,"plural"))).replace("{{groupby}}s",w(t.groupby,"plural")),a=L(t,a),t.parameter.length>=3?(a=(a=(a=a.replace("{{parameter}}",I(t.parameter.length))).replace("{{no.1}}",t.parameter[0])).replace("{{no.2}}",t.parameter[1]),3===t.parameter.length||t.parameter.length>3?a=a.replace("{{no.3}}",t.parameter[2]):2===t.parameter.length&&(a=a.replace(", {{no.3}}",""))):a="";break;case l.a.TREND:a=(a=(a=a.replace("{{measure}}",k(t.measure[0]))).replace("{{agg}}",S(r))).replace("{{groupby}}s",w(t.groupby,"plural")),a=L(t,a),t.parameter&&(a=a.replace("{{parameter}}",t.parameter),a="increasing"===t.parameter?a.replace("a/an","an"):a.replace("a/an","a")),a=t.focus.length?a.replace("{{focus}}",t.focus[0].value):a.replace(" and the value of {{focus}} needs to pay attention","");break;case l.a.VALUE:a=(a=a.replace("{{measure}}",k(t.measure[0]))).replace("{{agg}}",S(r)),a=L(t,a),t.focus.length&&(a=a.replace("{{focus}}",t.focus[0].value)),""!==t.parameter&&(a=a.replace("{{parameter}}",I(t.parameter)))}return a=a.slice(0,1).toUpperCase()+a.slice(1)}(u)||" ";return u.generatedScript=y,c.a.createElement("div",{style:{position:"absolute",left:i,top:f,width:h,height:d}},c.a.createElement("div",{className:"chart-card"},s&&c.a.createElement("div",{className:"delete",onClick:function(){return e.deleteCard(u,a)}}),c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"vis-box",style:{height:"calc(100% - ".concat(u.captionH,"px)")}},c.a.createElement("div",{className:"bound-box",id:u.id,ref:e.setRef(u.id)},Object(p.a)({schema:o},u.id,u,n,e.getSize(),Object(r.a)({},{height:640,width:640})))),c.a.createElement("div",{className:"caption",contentEditable:s,suppressContentEditableWarning:!0,ref:e.setCaptionRef(u.id,a),onBlur:function(){return e.endEdit(u.id,u,a)},dangerouslySetInnerHTML:{__html:N(u)}}))))};return c.a.createElement("div",{className:"inner-auto-layout",ref:this.layoutNode},H&&H.map((function(e,t){return c.a.createElement(g,{key:t,index:t,fact:e.data,x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0})})))}}]),a}(i.Component)},53:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var r=a(200),n=a(15),o=a(16),u=a(17),s=a(18),i=a(0),c=a.n(i),p=a(52),l=(a(377),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.initDone,a=e.intl;return c.a.createElement("div",{className:"ErrorView"},c.a.createElement("div",null),c.a.createElement("p",null,t&&a.get("empty")))}}]),a}(i.PureComponent)),f=a(265),h=a.n(f),d=a(182),y=a.n(d),g=(a(117),new Map),b=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return(e=t.call.apply(t,[this].concat(u))).titleRef=c.a.createRef(),e.setFactId=function(e,t){return y.a.cloneDeep(e).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{id:"".concat(t,"QA").concat(h()())})}))},e.fullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},e.reorder=function(e,t){for(var a=t,r=[],n=0;n<a;){for(var o=0;o<e.length;o+=a){var u=e[o+n];void 0!==u&&r.push(u)}n++}return r},e.endEdit=function(t){var a=g.get(t).current;if(a){var r=e.props.cachedQA;r[t].question=a.innerHTML,e.props.saveCachedDecomposedQA(r)}},e.setSubTitleRef=function(e){return g.set(e,c.a.createRef()),g.get(e)},e.endTitleEdit=function(){var t=e.titleRef.current;if(t){var a=t.innerHTML;a!==e.props.editedTitle&&e.props.editTitle(a)}},e.export=function(){window.print()},e.getTitle=function(){var t=e.props,a=t.askedQuestion,r=t.editedTitle,n=r||a;return n.slice(0,1).toUpperCase()+n.slice(1)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.initDone,r=t.intl,n=t.isEdit,o=t.decomposedQA,u=t.loading;if(!o)return null;var s=function(){return c.a.createElement("div",{className:"title"},c.a.createElement("h1",{contentEditable:n,title:e.getTitle(),suppressContentEditableWarning:!0,onBlur:function(){return e.endTitleEdit()},ref:e.titleRef},"".concat(e.getTitle()||a&&r.get("inputHint"))),c.a.createElement("div",{className:"fullscreen_icon",onClick:e.fullscreen}),c.a.createElement("div",{className:"export_icon",onClick:e.export}))},i=function(t){var a=t.index,r=t.subQustion,n=t.isEdit,o=r.slice(0,1).toUpperCase()+r.slice(1);return c.a.createElement("div",{className:"sub-title-box"},c.a.createElement("div",{className:"right-box"},c.a.createElement("div",{className:o===e.getTitle()?"right-top hightlight":"right-top default"})),c.a.createElement("div",{className:"sub-title",style:{borderColor:o===e.getTitle()?"#F19C0F":"#A1AEB9"}},c.a.createElement("div",{className:o===e.getTitle()?"index hightlight":"index default"},a+1),c.a.createElement("h1",{contentEditable:n,suppressContentEditableWarning:!0,title:"".concat(o),onBlur:function(){return e.endEdit(a)},ref:e.setSubTitleRef(a)},"".concat(o))))},f=4===o.length?2:o.length;return c.a.createElement("div",{className:"large-size-screen"},c.a.createElement(s,this.props),c.a.createElement("div",{className:"auto-layout",style:{columnCount:f}},c.a.createElement("div",{className:"dec1"}),c.a.createElement("div",{className:"dec2"}),o.length>0?this.reorder(o,f).map((function(t,a){return c.a.createElement("div",{className:"subView",key:t.id,style:{height:4===o.length?"calc(50% - 15px)":"100%",width:"100%"}},c.a.createElement("div",{className:"d1"}),c.a.createElement("div",{className:"d2"}),o.length>1&&c.a.createElement(i,{index:t.id,subQustion:t.question,isEdit:n}),c.a.createElement(p.default,Object.assign({QAID:a,facts:e.setFactId(t.facts,a),columnNum:o.length},e.props)))})):!u&&c.a.createElement(l,{initDone:r,intl:r})))}}]),a}(i.Component)},55:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));a(243);var r=a(244),n=a(200),o=a(156),u=a.n(o),s=a(172),i=a(15),c=a(16),p=a(17),l=a(18),f=a(0),h=a.n(f),d=a(53),y=a(290),g=a(196),b=(a(118),function(e){Object(p.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={question:e.props.question,decomposedQA:[],loading:!1,isUpdateLayout:e.props.isUpdateLayout},e.getData=function(){var t=Object(s.a)(u.a.mark((function t(a){var r,n,o,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.fileName,n={file_name:r,question:a,model:""},e.setState({loading:!0}),e.props.updateQuestion(a),t.next=6,g.a(n);case 6:if((o=t.sent).data&&"talk-generator error"!==o.data){t.next=10;break}return e.setState({loading:!1,decomposedQA:[]}),t.abrupt("return");case 10:s=e.addParams(o.data.story),e.setState({loading:!1,decomposedQA:s}),e.props.saveCachedDecomposedQA(s);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.constructGroupBy=function(e){return e.map((function(e){return e.field}))},e.getFakeScript=function(e,t){var a="";return"in which category has the highest sales and which the lowest "===e?a="in which category has the highest sales and which the lowest ":"sales has an overall value of sales over year "===e?a="sales has an overall value of sales over year ":"sales have an overall value of sales "===e&&(a="sales have an overall value of sales "),("Does any brand sell a lot but has a decreasing trend"===e||"which brand has the highest sales and which brand has the lowest sales "===e||"which brand has an increasing trend of sales over brand "===e)&&(a=["caption1","caption2","caption3"][t]),a},e.getFakeFocus=function(e,t,a){return"which brand has the highest sales and which brand has the lowest sales "===e&&(a[0].value="Ford"),"which brand has the highest sales and which has the lowest "===e&&(a[0].value="Ford"),"in which category has the highest sales and which the lowest "===e&&(a[0].value="SUV"),a},e.addParams=function(t){return t.map((function(t,a){return{question:t.question,id:a,facts:t.facts.map((function(r){return r.chart&&""!==r.chart||(r.groupby=e.constructGroupBy(r.breakdown),r.chart=Object(y.b)(e.props.schema,r)),Object(n.a)(Object(n.a)({},r),{},{groupby:r.breakdown[0]?[r.breakdown[0].field]:[],focus:e.getFakeFocus(t.question,a,r.focus)})}))}}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cachedQA,a=e.question;t?this.setState({decomposedQA:t}):this.getData(a)}},{key:"componentWillReceiveProps",value:function(e){if(e.question!==this.state.question)this.setState({question:e.question}),this.getData(e.question);else{var t=e.cachedQA;if(!t)return null;this.setState({decomposedQA:t})}}},{key:"render",value:function(){var e=this.state,t=e.decomposedQA,a=e.question,n=e.loading,o=this.props,u=o.initDone,s=o.intl;return h.a.createElement("div",{className:"Dashboard spin-center"},n&&h.a.createElement(r.a,{tip:u&&s.get("Coverting")}),h.a.createElement(d.default,Object.assign({loading:n,askedQuestion:a,decomposedQA:t},this.props)))}}]),a}(f.Component))}}]);
//# sourceMappingURL=14.4a78f49b.chunk.js.map